
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      <link rel="shortcut icon" href="../assets/images/olive-leaf-md copy-version-agnostic.ico">
      <meta name="generator" content="mkdocs-1.2.3, mkdocs-material-6.2.3">
    
    
      
        <title>`olivepy` `api` module - OLIVE</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.3b61ea93.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.39b8e14a.min.css">
        
          
          
          <meta name="theme-color" content="#8bc34b">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../assets/css/swagger-ui.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="light-green" data-md-color-accent="brown">
      
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#olivepy-api-module" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../index.html" title="OLIVE" class="md-header-nav__button md-logo" aria-label="OLIVE">
      
  <img src="../assets/images/olive-leaf-md copy-version-agnostic.ico" alt="logo">

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      <div class="md-header-nav__ellipsis">
        <div class="md-header-nav__topic">
          <span class="md-ellipsis">
            OLIVE
          </span>
        </div>
        <div class="md-header-nav__topic">
          <span class="md-ellipsis">
            
              `olivepy` `api` module
            
          </span>
        </div>
      </div>
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    




<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../index.html" title="OLIVE" class="md-nav__button md-logo" aria-label="OLIVE">
      
  <img src="../assets/images/olive-leaf-md copy-version-agnostic.ico" alt="logo">

    </a>
    OLIVE
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      



  <li class="md-nav__item">
    <a href="../index.html" class="md-nav__link">
      Overview
    </a>
  </li>

    
      
      
      



  
  <li class="md-nav__item md-nav__item--nested">
    
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2" >
    
    <label class="md-nav__link" for="nav-2">
      Administrator
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Administrator" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        <span class="md-nav__icon md-icon"></span>
        Administrator
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  
  <li class="md-nav__item md-nav__item--nested">
    
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-1" type="checkbox" id="nav-2-1" >
    
    <label class="md-nav__link" for="nav-2-1">
      Installation/Setup
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Installation/Setup" data-md-level="2">
      <label class="md-nav__title" for="nav-2-1">
        <span class="md-nav__icon md-icon"></span>
        Installation/Setup
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="../martini.html" class="md-nav__link">
      OLIVE Martini Docker Setup
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../install.html" class="md-nav__link">
      OLIVE CentOS/RedHat 7 Native Setup
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../gpu-config.html" class="md-nav__link">
      GPU Plugin Configuration
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../server.html" class="md-nav__link">
      Server Guide
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../hardware.html" class="md-nav__link">
      OLIVE System Requirements
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      



  
  <li class="md-nav__item md-nav__item--nested">
    
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" >
    
    <label class="md-nav__link" for="nav-3">
      User
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="User" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        <span class="md-nav__icon md-icon"></span>
        User
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  
  <li class="md-nav__item md-nav__item--nested">
    
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3-1" type="checkbox" id="nav-3-1" >
    
    <label class="md-nav__link" for="nav-3-1">
      User Interfaces
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="User Interfaces" data-md-level="2">
      <label class="md-nav__title" for="nav-3-1">
        <span class="md-nav__icon md-icon"></span>
        User Interfaces
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="../nightingale.html" class="md-nav__link">
      OLIVE Nightingale GUI
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../raven.html" class="md-nav__link">
      OLIVE Raven Batch Web GUI
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../clients.html" class="md-nav__link">
      Java and Python CLI Client Utilities
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../cli.html" class="md-nav__link">
      Command Line Tools (Legacy)
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../redaction.html" class="md-nav__link">
      Speaker Redaction
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../audioFormats.html" class="md-nav__link">
      Supported Audio Formats
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      



  
  <li class="md-nav__item md-nav__item--nested">
    
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4" >
    
    <label class="md-nav__link" for="nav-4">
      Integrator
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Integrator" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        <span class="md-nav__icon md-icon"></span>
        Integrator
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  
  <li class="md-nav__item md-nav__item--nested">
    
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-1" type="checkbox" id="nav-4-1" >
    
    <label class="md-nav__link" for="nav-4-1">
      Enterprise API
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Enterprise API" data-md-level="2">
      <label class="md-nav__title" for="nav-4-1">
        <span class="md-nav__icon md-icon"></span>
        Enterprise API
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="../apiInfo.html" class="md-nav__link">
      Enterprise API Primer
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../apiBuildReferenceImp.html" class="md-nav__link">
      Building an API Reference Implementation
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../apiMessage.html" class="md-nav__link">
      Enterprise API Message Reference
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../restApi.html" class="md-nav__link">
      OLIVE REST API
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../traits.html" class="md-nav__link">
      OLIVE Plugin Traits
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../workflows.html" class="md-nav__link">
      Workflows
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../apiCode.html" class="md-nav__link">
      Integrating (Java) Client API
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../olivepy-api.html" class="md-nav__link">
      OlivePy Python Client API PyDocs
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      



  
  <li class="md-nav__item md-nav__item--nested">
    
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5" >
    
    <label class="md-nav__link" for="nav-5">
      Plugins
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Plugins" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        <span class="md-nav__icon md-icon"></span>
        Plugins
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="../plugins.html" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../releasePlugins.html" class="md-nav__link">
      Release Plugins
    </a>
  </li>

        
          
          
          



  
  <li class="md-nav__item md-nav__item--nested">
    
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5-3" type="checkbox" id="nav-5-3" >
    
    <label class="md-nav__link" for="nav-5-3">
      Speech
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Speech" data-md-level="2">
      <label class="md-nav__title" for="nav-5-3">
        <span class="md-nav__icon md-icon"></span>
        Speech
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="../plugins/sad-dnn-v8.html" class="md-nav__link">
      Speech Activity Detection (SAD)
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../plugins/sad-dnnSmolive-v1.html" class="md-nav__link">
      Speech Activity Detection (SAD) Low Resource
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../plugins/vtd-dnn-v7.html" class="md-nav__link">
      Voice Type Discrimination (VTD)
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../plugins/dfa-spoofnet-v1.html" class="md-nav__link">
      Deep Fake Audio Detection (DFA)
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../plugins/dfa-speakerSpecific-phonetic-v1.html" class="md-nav__link">
      Deep Fake Audio Detection Speaker Specific Phonetic (DFA)
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          



  
  <li class="md-nav__item md-nav__item--nested">
    
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5-4" type="checkbox" id="nav-5-4" >
    
    <label class="md-nav__link" for="nav-5-4">
      Speaker
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Speaker" data-md-level="2">
      <label class="md-nav__title" for="nav-5-4">
        <span class="md-nav__icon md-icon"></span>
        Speaker
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="../plugins/sid-dplda-v3.html" class="md-nav__link">
      Speaker Identification (SID)
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../plugins/sid-embedSmolive-v1.html" class="md-nav__link">
      Speaker Identification (SID) Low Resource
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../plugins/sdd-diarizeEmbedSmolive-v1.html" class="md-nav__link">
      Speaker Detection (SDD) Low Resource
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../plugins/dia-hybrid-v2.html" class="md-nav__link">
      Speaker Diarization (DIA)
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../plugins/shl-sbcEmbed-v1.html" class="md-nav__link">
      Speaker Highlighting (SHL)
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          



  
  <li class="md-nav__item md-nav__item--nested">
    
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5-5" type="checkbox" id="nav-5-5" >
    
    <label class="md-nav__link" for="nav-5-5">
      Language
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Language" data-md-level="2">
      <label class="md-nav__title" for="nav-5-5">
        <span class="md-nav__icon md-icon"></span>
        Language
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="../plugins/lid-embedplda-v4.html" class="md-nav__link">
      Language Identification (LID) GPU
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../plugins/lid-hdplda-v1.html" class="md-nav__link">
      Language Identification (LID)
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../plugins/lid-embedpldaSmolive-v1.html" class="md-nav__link">
      Language Identification (LID) Low Resource
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../plugins/ldd-embedplda-v1.html" class="md-nav__link">
      Language Detection (LDD)
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../plugins/ldd-embedpldaSmolive-v1.html" class="md-nav__link">
      Lanugage Detection (LDD) Low Resource
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          



  
  <li class="md-nav__item md-nav__item--nested">
    
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5-6" type="checkbox" id="nav-5-6" >
    
    <label class="md-nav__link" for="nav-5-6">
      Gender
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Gender" data-md-level="2">
      <label class="md-nav__title" for="nav-5-6">
        <span class="md-nav__icon md-icon"></span>
        Gender
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="../plugins/gid-gb-v2.html" class="md-nav__link">
      Gender Identification (GID)
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../plugins/gdd-embedplda-v1.html" class="md-nav__link">
      Gender Detection (GDD)
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          



  
  <li class="md-nav__item md-nav__item--nested">
    
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5-7" type="checkbox" id="nav-5-7" >
    
    <label class="md-nav__link" for="nav-5-7">
      Keyword
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Keyword" data-md-level="2">
      <label class="md-nav__title" for="nav-5-7">
        <span class="md-nav__icon md-icon"></span>
        Keyword
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="../plugins/qbe-ftdnnSmolive-v1.html" class="md-nav__link">
      Query By Example (QBE)
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          



  
  <li class="md-nav__item md-nav__item--nested">
    
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5-8" type="checkbox" id="nav-5-8" >
    
    <label class="md-nav__link" for="nav-5-8">
      Transcription
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Transcription" data-md-level="2">
      <label class="md-nav__title" for="nav-5-8">
        <span class="md-nav__icon md-icon"></span>
        Transcription
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="../plugins/asr-end2end-v1.html" class="md-nav__link">
      Automatic Speech Recognition (ASR) end2end/GPU
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../plugins/asr-dynapy-v4.html" class="md-nav__link">
      Automatic Speech Recognition (ASR)
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          



  
  <li class="md-nav__item md-nav__item--nested">
    
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5-9" type="checkbox" id="nav-5-9" >
    
    <label class="md-nav__link" for="nav-5-9">
      Translation
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Translation" data-md-level="2">
      <label class="md-nav__title" for="nav-5-9">
        <span class="md-nav__icon md-icon"></span>
        Translation
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="../plugins/tmt-neural-v1.html" class="md-nav__link">
      Text Machine Translation (TMT)
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          



  
  <li class="md-nav__item md-nav__item--nested">
    
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5-10" type="checkbox" id="nav-5-10" >
    
    <label class="md-nav__link" for="nav-5-10">
      Topic
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Topic" data-md-level="2">
      <label class="md-nav__title" for="nav-5-10">
        <span class="md-nav__icon md-icon"></span>
        Topic
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="../plugins/tpd-dynapy-v5.html" class="md-nav__link">
      Topic Detection (TPD) ASR-based
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../plugins/tpd-fusion-v1.html" class="md-nav__link">
      Topic Detection (TPD) ASR/Acoustic Fusion
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          



  
  <li class="md-nav__item md-nav__item--nested">
    
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5-11" type="checkbox" id="nav-5-11" >
    
    <label class="md-nav__link" for="nav-5-11">
      Manipulation
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Manipulation" data-md-level="2">
      <label class="md-nav__title" for="nav-5-11">
        <span class="md-nav__icon md-icon"></span>
        Manipulation
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="../plugins/red-transform-v1.html" class="md-nav__link">
      Redaction (RED) Transformation
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          



  
  <li class="md-nav__item md-nav__item--nested">
    
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5-12" type="checkbox" id="nav-5-12" >
    
    <label class="md-nav__link" for="nav-5-12">
      Imagery
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Imagery" data-md-level="2">
      <label class="md-nav__title" for="nav-5-12">
        <span class="md-nav__icon md-icon"></span>
        Imagery
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="../plugins/fdi-pyEmbed-v1.html" class="md-nav__link">
      Face Detection Image (FDI)
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../plugins/fdv-pyEmbed-v1.html" class="md-nav__link">
      Face Detection Video (FDV)
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../plugins/fri-pyEmbed-v1.html" class="md-nav__link">
      Face Recognition Image (FRI)
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../plugins/frv-pyEmbed-v1.html" class="md-nav__link">
      Face Recognition Video (FRV)
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      



  <li class="md-nav__item">
    <a href="../glossary.html" class="md-nav__link">
      Glossary
    </a>
  </li>

    
      
      
      



  <li class="md-nav__item">
    <a href="../contact.html" class="md-nav__link">
      Contact
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#olivepyapioliveclient" class="md-nav__link">
    olivepy.api.oliveclient
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#olivepy.api.oliveclient" class="md-nav__link">
    olivepy.api.oliveclient
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#olivepy.api.oliveclient.ClientBrokerWorker" class="md-nav__link">
    ClientBrokerWorker
  </a>
  
    <nav class="md-nav" aria-label="ClientBrokerWorker">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#olivepy.api.oliveclient.ClientBrokerWorker.run" class="md-nav__link">
    run()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#olivepy.api.oliveclient.OliveClient" class="md-nav__link">
    OliveClient
  </a>
  
    <nav class="md-nav" aria-label="OliveClient">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#olivepy.api.oliveclient.OliveClient.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#olivepy.api.oliveclient.OliveClient.adapt_supervised" class="md-nav__link">
    adapt_supervised()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#olivepy.api.oliveclient.OliveClient.adapt_supervised_old" class="md-nav__link">
    adapt_supervised_old()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#olivepy.api.oliveclient.OliveClient.analyze_bounding_box" class="md-nav__link">
    analyze_bounding_box()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#olivepy.api.oliveclient.OliveClient.analyze_frames" class="md-nav__link">
    analyze_frames()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#olivepy.api.oliveclient.OliveClient.analyze_global" class="md-nav__link">
    analyze_global()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#olivepy.api.oliveclient.OliveClient.analyze_regions" class="md-nav__link">
    analyze_regions()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#olivepy.api.oliveclient.OliveClient.apply_threshold" class="md-nav__link">
    apply_threshold()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#olivepy.api.oliveclient.OliveClient.audio_modification" class="md-nav__link">
    audio_modification()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#olivepy.api.oliveclient.OliveClient.connect" class="md-nav__link">
    connect()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#olivepy.api.oliveclient.OliveClient.convert_preprocessed_annotations" class="md-nav__link">
    convert_preprocessed_annotations()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#olivepy.api.oliveclient.OliveClient.enroll" class="md-nav__link">
    enroll()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#olivepy.api.oliveclient.OliveClient.finalize_supervised_adaptation" class="md-nav__link">
    finalize_supervised_adaptation()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#olivepy.api.oliveclient.OliveClient.get_fullobj" class="md-nav__link">
    get_fullobj()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#olivepy.api.oliveclient.OliveClient.get_info" class="md-nav__link">
    get_info()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#olivepy.api.oliveclient.OliveClient.parse_annotation_file" class="md-nav__link">
    parse_annotation_file()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#olivepy.api.oliveclient.OliveClient.preprocess_supervised_audio" class="md-nav__link">
    preprocess_supervised_audio()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#olivepy.api.oliveclient.OliveClient.requst_sad_adaptation" class="md-nav__link">
    requst_sad_adaptation()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#olivepy.api.oliveclient.OliveClient.setup_multithreading" class="md-nav__link">
    setup_multithreading()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#olivepy.api.oliveclient.OliveClient.unenroll" class="md-nav__link">
    unenroll()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#olivepy.api.oliveclient.get_bit_depth" class="md-nav__link">
    get_bit_depth()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#olivepy.api.oliveclient.package_buffer_audio" class="md-nav__link">
    package_buffer_audio()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#olivepyapiolive_async_client" class="md-nav__link">
    olivepy.api.olive_async_client
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#olivepy.api.olive_async_client" class="md-nav__link">
    olivepy.api.olive_async_client
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#olivepy.api.olive_async_client.AsyncOliveClient" class="md-nav__link">
    AsyncOliveClient
  </a>
  
    <nav class="md-nav" aria-label="AsyncOliveClient">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#olivepy.api.olive_async_client.AsyncOliveClient.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#olivepy.api.olive_async_client.AsyncOliveClient.add_heartbeat_listener" class="md-nav__link">
    add_heartbeat_listener()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#olivepy.api.olive_async_client.AsyncOliveClient.analyze_frames" class="md-nav__link">
    analyze_frames()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#olivepy.api.olive_async_client.AsyncOliveClient.analyze_global" class="md-nav__link">
    analyze_global()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#olivepy.api.olive_async_client.AsyncOliveClient.analyze_regions" class="md-nav__link">
    analyze_regions()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#olivepy.api.olive_async_client.AsyncOliveClient.audio_modification" class="md-nav__link">
    audio_modification()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#olivepy.api.olive_async_client.AsyncOliveClient.clear_heartbeat_listeners" class="md-nav__link">
    clear_heartbeat_listeners()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#olivepy.api.olive_async_client.AsyncOliveClient.connect" class="md-nav__link">
    connect()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#olivepy.api.olive_async_client.AsyncOliveClient.disconnect" class="md-nav__link">
    disconnect()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#olivepy.api.olive_async_client.AsyncOliveClient.enqueue_request" class="md-nav__link">
    enqueue_request()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#olivepy.api.olive_async_client.AsyncOliveClient.enroll" class="md-nav__link">
    enroll()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#olivepy.api.olive_async_client.AsyncOliveClient.get_active" class="md-nav__link">
    get_active()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#olivepy.api.olive_async_client.AsyncOliveClient.get_status" class="md-nav__link">
    get_status()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#olivepy.api.olive_async_client.AsyncOliveClient.get_update_status" class="md-nav__link">
    get_update_status()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#olivepy.api.olive_async_client.AsyncOliveClient.is_connected" class="md-nav__link">
    is_connected()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#olivepy.api.olive_async_client.AsyncOliveClient.load_plugin_domain" class="md-nav__link">
    load_plugin_domain()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#olivepy.api.olive_async_client.AsyncOliveClient.request_plugins" class="md-nav__link">
    request_plugins()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#olivepy.api.olive_async_client.AsyncOliveClient.run" class="md-nav__link">
    run()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#olivepy.api.olive_async_client.AsyncOliveClient.setup_multithreading" class="md-nav__link">
    setup_multithreading()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#olivepy.api.olive_async_client.AsyncOliveClient.sync_request" class="md-nav__link">
    sync_request()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#olivepy.api.olive_async_client.AsyncOliveClient.unenroll" class="md-nav__link">
    unenroll()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#olivepy.api.olive_async_client.AsyncOliveClient.unload_plugin_domain" class="md-nav__link">
    unload_plugin_domain()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#olivepy.api.olive_async_client.AsyncOliveClient.update_plugin_domain" class="md-nav__link">
    update_plugin_domain()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#olivepy.api.olive_async_client.ClientMonitorThread" class="md-nav__link">
    ClientMonitorThread
  </a>
  
    <nav class="md-nav" aria-label="ClientMonitorThread">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#olivepy.api.olive_async_client.ClientMonitorThread.add_event_callback" class="md-nav__link">
    add_event_callback()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#olivepy.api.olive_async_client.ClientMonitorThread.run" class="md-nav__link">
    run()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#olivepyapiworkflow" class="md-nav__link">
    olivepy.api.workflow
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#olivepy.api.workflow" class="md-nav__link">
    olivepy.api.workflow
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#olivepy.api.workflow.OliveWorkflow" class="md-nav__link">
    OliveWorkflow
  </a>
  
    <nav class="md-nav" aria-label="OliveWorkflow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#olivepy.api.workflow.OliveWorkflow.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#olivepy.api.workflow.OliveWorkflow.adapt" class="md-nav__link">
    adapt()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#olivepy.api.workflow.OliveWorkflow.analyze" class="md-nav__link">
    analyze()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#olivepy.api.workflow.OliveWorkflow.enroll" class="md-nav__link">
    enroll()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#olivepy.api.workflow.OliveWorkflow.get_analysis_class_ids" class="md-nav__link">
    get_analysis_class_ids()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#olivepy.api.workflow.OliveWorkflow.get_analysis_job_names" class="md-nav__link">
    get_analysis_job_names()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#olivepy.api.workflow.OliveWorkflow.get_analysis_task_info" class="md-nav__link">
    get_analysis_task_info()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#olivepy.api.workflow.OliveWorkflow.get_analysis_tasks" class="md-nav__link">
    get_analysis_tasks()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#olivepy.api.workflow.OliveWorkflow.get_enrollment_job_names" class="md-nav__link">
    get_enrollment_job_names()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#olivepy.api.workflow.OliveWorkflow.get_enrollment_tasks" class="md-nav__link">
    get_enrollment_tasks()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#olivepy.api.workflow.OliveWorkflow.get_unenrollment_job_names" class="md-nav__link">
    get_unenrollment_job_names()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#olivepy.api.workflow.OliveWorkflow.get_unenrollment_tasks" class="md-nav__link">
    get_unenrollment_tasks()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#olivepy.api.workflow.OliveWorkflow.package_audio" class="md-nav__link">
    package_audio()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#olivepy.api.workflow.OliveWorkflow.package_binary" class="md-nav__link">
    package_binary()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#olivepy.api.workflow.OliveWorkflow.package_image" class="md-nav__link">
    package_image()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#olivepy.api.workflow.OliveWorkflow.package_text" class="md-nav__link">
    package_text()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#olivepy.api.workflow.OliveWorkflow.package_workflow_input" class="md-nav__link">
    package_workflow_input()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#olivepy.api.workflow.OliveWorkflow.serialize_audio" class="md-nav__link">
    serialize_audio()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#olivepy.api.workflow.OliveWorkflow.to_json" class="md-nav__link">
    to_json()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#olivepy.api.workflow.OliveWorkflow.unenroll" class="md-nav__link">
    unenroll()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#olivepy.api.workflow.OliveWorkflowDefinition" class="md-nav__link">
    OliveWorkflowDefinition
  </a>
  
    <nav class="md-nav" aria-label="OliveWorkflowDefinition">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#olivepy.api.workflow.OliveWorkflowDefinition.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#olivepy.api.workflow.OliveWorkflowDefinition.create_workflow" class="md-nav__link">
    create_workflow()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#olivepy.api.workflow.OliveWorkflowDefinition.get_json" class="md-nav__link">
    get_json()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#olivepy.api.workflow.OliveWorkflowDefinition.to_json" class="md-nav__link">
    to_json()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#olivepy.api.workflow.WorkflowException" class="md-nav__link">
    WorkflowException
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="olivepy-api-module"><code>olivepy</code> <code>api</code> module</h1>
<!--- This module contains the --->

<h2 id="olivepyapioliveclient"><code>olivepy.api.oliveclient</code></h2>


  <div class="doc doc-object doc-module">

<a id="olivepy.api.oliveclient"></a>
    <div class="doc doc-contents first">




  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h2 id="olivepy.api.oliveclient.ClientBrokerWorker" class="doc doc-heading">
        <code>
ClientBrokerWorker            (<span title="threading.Thread">Thread</span>)
        </code>



</h2>

    <div class="doc doc-contents ">

      <p>Performs async interactions with Olive</p>




  <div class="doc doc-children">












  <div class="doc doc-object doc-method">



<h3 id="olivepy.api.oliveclient.ClientBrokerWorker.run" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">run</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Method representing the thread's activity.</p>
<p>You may override this method in a subclass. The standard run() method
invokes the callable object passed to the object's constructor as the
target argument, if any, with sequential and keyword arguments taken
from the args and kwargs arguments, respectively.</p>

        <details class="quote">
          <summary>Source code in <code>olivepy/api/oliveclient.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Starting Olive Status Monitor Worker for id: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">client_id</span><span class="p">))</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">working</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">status_socket</span><span class="o">.</span><span class="n">subscribe</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>

    <span class="n">poller</span> <span class="o">=</span> <span class="n">zmq</span><span class="o">.</span><span class="n">Poller</span><span class="p">()</span>
    <span class="n">poller</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">status_socket</span><span class="p">,</span> <span class="n">zmq</span><span class="o">.</span><span class="n">POLLIN</span><span class="p">)</span>

    <span class="k">while</span> <span class="bp">self</span><span class="o">.</span><span class="n">working</span><span class="p">:</span>

        <span class="c1"># Now check for any results from the server</span>
        <span class="c1"># logging.info(&quot;checking for response&quot;)</span>
        <span class="n">socks</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">poller</span><span class="o">.</span><span class="n">poll</span><span class="p">(</span><span class="n">BLOCK_TIMEOUT_MS</span><span class="p">))</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">status_socket</span> <span class="ow">in</span> <span class="n">socks</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Received status message from OLIVE...&quot;</span><span class="p">)</span>
            <span class="n">heatbeat_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">status_socket</span><span class="o">.</span><span class="n">recv</span><span class="p">()</span>
            <span class="n">heatbeat</span> <span class="o">=</span> <span class="n">Heartbeat</span><span class="p">()</span>
            <span class="n">heatbeat</span><span class="o">.</span><span class="n">ParseFromString</span><span class="p">(</span><span class="n">heatbeat_data</span><span class="p">)</span>

            <span class="c1"># do something with heartbeat...</span>
            <span class="k">if</span> <span class="n">heatbeat</span><span class="o">.</span><span class="n">HasField</span><span class="p">(</span><span class="s2">&quot;stats&quot;</span><span class="p">):</span>
                <span class="n">stats</span> <span class="o">=</span> <span class="n">heatbeat</span><span class="o">.</span><span class="n">stats</span>

                <span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;System CPU Used:    </span><span class="si">%02.01f%%</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">stats</span><span class="o">.</span><span class="n">cpu_percent</span><span class="p">)</span>
                <span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;System CPU Average: </span><span class="si">%02.01f%%</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">stats</span><span class="o">.</span><span class="n">cpu_average</span><span class="p">)</span>
                <span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;System MEM Used:    </span><span class="si">%02.01f%%</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">stats</span><span class="o">.</span><span class="n">mem_percent</span><span class="p">)</span>
                <span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;System MEM Max:     </span><span class="si">%02.01f%%</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">stats</span><span class="o">.</span><span class="n">max_mem_percent</span><span class="p">)</span>
                <span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;System SWAP Used:   </span><span class="si">%02.01f%%</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">stats</span><span class="o">.</span><span class="n">swap_percent</span><span class="p">)</span>
                <span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;System SWAP Max:    </span><span class="si">%02.01f%%</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">stats</span><span class="o">.</span><span class="n">max_swap_percent</span><span class="p">)</span>
                <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Number active jobs: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">stats</span><span class="o">.</span><span class="n">pool_busy</span><span class="p">))</span>
                <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Number pending jobs: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">stats</span><span class="o">.</span><span class="n">pool_pending</span><span class="p">))</span>
                <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Number finished jobs: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">stats</span><span class="o">.</span><span class="n">pool_finished</span><span class="p">))</span>
                <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Max number jobs: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">stats</span><span class="o">.</span><span class="n">max_num_jobs</span><span class="p">))</span>
                <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Server version: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">stats</span><span class="o">.</span><span class="n">server_version</span><span class="p">))</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">status_socket</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h2 id="olivepy.api.oliveclient.OliveClient" class="doc doc-heading">
        <code>
OliveClient        </code>



</h2>

    <div class="doc doc-contents ">

      <p>This is a simplified version of network library used to contact the Olive server via python code.  All OLIVE calls
below are synchronous, and block and until a response is received from the OLIVE server.  These example API calls
are intended to make working with the OLIVE API clearer since all calls are blocking.  To make asynchronous requests
to the OLIVE server use olivepy.api.olive_async_client.AsyncOliveClient for your enterprise application.</p>




  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h3 id="olivepy.api.oliveclient.OliveClient.__init__" class="doc doc-heading">
<code class="codehilite language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">client_id</span><span class="p">,</span> <span class="n">address</span><span class="o">=</span><span class="s1">&#39;localhost&#39;</span><span class="p">,</span> <span class="n">request_port</span><span class="o">=</span><span class="mi">5588</span><span class="p">,</span> <span class="n">timeout_second</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>client_id</code></td>
        <td></td>
        <td><p>The unique name of this client.  Due to a ZMQ bug on some platforms this ID can not end in '1'</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>address</code></td>
        <td></td>
        <td><p>the address of the olive server, such as localhost</p></td>
        <td><code>&#39;localhost&#39;</code></td>
      </tr>
      <tr>
        <td><code>request_port</code></td>
        <td></td>
        <td><p>default olive port is 5588</p></td>
        <td><code>5588</code></td>
      </tr>
      <tr>
        <td><code>timeout_second</code></td>
        <td></td>
        <td><p>time in seconds, to wait for a response from the server</p></td>
        <td><code>10</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>olivepy/api/oliveclient.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">client_id</span><span class="p">,</span> <span class="n">address</span><span class="o">=</span><span class="s1">&#39;localhost&#39;</span><span class="p">,</span> <span class="n">request_port</span><span class="o">=</span><span class="mi">5588</span><span class="p">,</span> <span class="n">timeout_second</span><span class="o">=</span><span class="mi">10</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    :param client_id: The unique name of this client.  Due to a ZMQ bug on some platforms this ID can not end in &#39;1&#39;</span>
<span class="sd">    :param address: the address of the olive server, such as localhost</span>
<span class="sd">    :param request_port: default olive port is 5588</span>
<span class="sd">    :param timeout_second:  time in seconds, to wait for a response from the server</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">client_id</span> <span class="o">=</span> <span class="n">client_id</span>

    <span class="c1"># due to a ZMQ bug the last character of the client ID can not be 1, so remove it</span>
    <span class="k">if</span> <span class="n">client_id</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;1&quot;</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client_id</span> <span class="o">=</span> <span class="n">client_id</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">logging</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Last character of the client ID can not be &#39;1&#39;, removing to avoid a ZMQ bug&quot;</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">server_address</span> <span class="o">=</span> <span class="n">address</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">server_request_port</span> <span class="o">=</span> <span class="n">request_port</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">server_status_port</span> <span class="o">=</span> <span class="n">request_port</span><span class="o">+</span><span class="mi">1</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">timeout_seconds</span> <span class="o">=</span> <span class="n">timeout_second</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">olive_connected</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fullobj</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="n">OliveClient</span><span class="o">.</span><span class="n">setup_multithreading</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="olivepy.api.oliveclient.OliveClient.adapt_supervised" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">adapt_supervised</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">plugin</span><span class="p">,</span> <span class="n">domain</span><span class="p">,</span> <span class="n">annotations_file_name</span><span class="p">,</span> <span class="n">new_domain_name</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>plugin</code></td>
        <td></td>
        <td><p>the plugin for adaptation</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>domain</code></td>
        <td></td>
        <td><p>the domain for adaptation</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>adapt_workspace</code></td>
        <td></td>
        <td><p>a unique label for this client's adaptation</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>annotations_file_name</code></td>
        <td></td>
        <td><p>the name of a file containing annotations. This file contains lines with four tokens: filename, start, end, and class. start and end are in milliseconds, but that should change to seconds.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td></td>
      <td><p>the full path name of the new domain.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>olivepy/api/oliveclient.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">adapt_supervised</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">plugin</span><span class="p">,</span> <span class="n">domain</span><span class="p">,</span> <span class="n">annotations_file_name</span><span class="p">,</span> <span class="n">new_domain_name</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    :param plugin: the plugin for adaptation</span>
<span class="sd">    :param domain: the domain for adaptation</span>
<span class="sd">    :param adapt_workspace: a unique label for this client&#39;s adaptation</span>
<span class="sd">    :param annotations_file_name: the name of a file containing annotations.</span>
<span class="sd">            This file contains lines with four tokens: filename, start, end, and class.</span>
<span class="sd">            start and end are in milliseconds, but that should change to seconds.</span>

<span class="sd">    :return: the full path name of the new domain.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">adapt_workspace</span> <span class="o">=</span> <span class="s1">&#39;adapt-&#39;</span><span class="o">+</span> <span class="n">msgutil</span><span class="o">.</span><span class="n">get_uuid</span><span class="p">()</span>
    <span class="n">processed_audio_list</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="n">file_annotations</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parse_annotation_file</span><span class="p">(</span><span class="n">annotations_file_name</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">filename</span><span class="p">,</span> <span class="n">regions</span> <span class="ow">in</span> <span class="n">file_annotations</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">audio_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">preprocess_supervised_audio</span><span class="p">(</span><span class="n">plugin</span><span class="p">,</span> <span class="n">domain</span><span class="p">,</span> <span class="n">filename</span><span class="p">,</span> <span class="n">adapt_workspace</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">audio_id</span><span class="p">:</span>
            <span class="n">processed_audio_list</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">audio_id</span><span class="p">,</span> <span class="n">regions</span><span class="p">])</span>

    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">processed_audio_list</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;All audio requests failed&quot;</span><span class="p">)</span>

    <span class="c1"># Now convert the file based annotations into class based annotations</span>
    <span class="n">protobuf_class_annots</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">convert_preprocessed_annotations</span><span class="p">(</span><span class="n">processed_audio_list</span><span class="p">)</span>

    <span class="c1">#Finally, complete the adaptation request by making a finalize reqeust</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">finalize_supervised_adaptation</span><span class="p">(</span><span class="n">plugin</span><span class="p">,</span> <span class="n">domain</span><span class="p">,</span> <span class="n">new_domain_name</span><span class="p">,</span> <span class="n">protobuf_class_annots</span><span class="p">,</span> <span class="n">adapt_workspace</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="olivepy.api.oliveclient.OliveClient.adapt_supervised_old" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">adapt_supervised_old</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">plugin</span><span class="p">,</span> <span class="n">domain</span><span class="p">,</span> <span class="n">file_annotations</span><span class="p">,</span> <span class="n">new_domain_name</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>plugin</code></td>
        <td></td>
        <td><p>the plugin for adaptation</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>domain</code></td>
        <td></td>
        <td><p>the domain for adaptation</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>adapt_workspace</code></td>
        <td></td>
        <td><p>a unique label for this client's adaptation</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>file_annotations</code></td>
        <td></td>
        <td><p>a dictionary of files to preprocess, each file has one or more annotated regions for processing {filename: [(start_ms, end_ms, class)]}, for example {test.wav: [(2618, 6200, 'S'), (7200, 9500, 'NS')]}</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td></td>
      <td><p>the full path name of the new domain.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>olivepy/api/oliveclient.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">adapt_supervised_old</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">plugin</span><span class="p">,</span> <span class="n">domain</span><span class="p">,</span> <span class="n">file_annotations</span><span class="p">,</span> <span class="n">new_domain_name</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    :param plugin: the plugin for adaptation</span>
<span class="sd">    :param domain: the domain for adaptation</span>
<span class="sd">    :param adapt_workspace: a unique label for this client&#39;s adaptation</span>
<span class="sd">    :param file_annotations: a dictionary of files to preprocess, each file has one or more annotated regions for</span>
<span class="sd">            processing {filename: [(start_ms, end_ms, class)]}, for example {test.wav: [(2618, 6200, &#39;S&#39;), (7200, 9500, &#39;NS&#39;)]}</span>
<span class="sd">    :return: the full path name of the new domain.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">adapt_workspace</span> <span class="o">=</span> <span class="s1">&#39;adapt-&#39;</span><span class="o">+</span> <span class="n">msgutil</span><span class="o">.</span><span class="n">get_uuid</span><span class="p">()</span>
    <span class="n">processed_audio_list</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">filename</span><span class="p">,</span> <span class="n">regions</span> <span class="ow">in</span> <span class="n">file_annotations</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">audio_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">preprocess_supervised_audio</span><span class="p">(</span><span class="n">plugin</span><span class="p">,</span> <span class="n">domain</span><span class="p">,</span> <span class="n">filename</span><span class="p">,</span> <span class="n">adapt_workspace</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">audio_id</span><span class="p">:</span>
            <span class="n">processed_audio_list</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">audio_id</span><span class="p">,</span> <span class="n">regions</span><span class="p">])</span>

    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">processed_audio_list</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;All audio requests failed&quot;</span><span class="p">)</span>

    <span class="c1"># Now convert the file based annotations into class based annotations</span>
    <span class="n">protobuf_class_annots</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">convert_preprocessed_annotations</span><span class="p">(</span><span class="n">processed_audio_list</span><span class="p">)</span>

    <span class="c1">#Finally, complete the adaptation request by making a finalize reqeust</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">finalize_supervised_adaptation</span><span class="p">(</span><span class="n">plugin</span><span class="p">,</span> <span class="n">domain</span><span class="p">,</span> <span class="n">new_domain_name</span><span class="p">,</span> <span class="n">protobuf_class_annots</span><span class="p">,</span> <span class="n">adapt_workspace</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="olivepy.api.oliveclient.OliveClient.analyze_bounding_box" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">analyze_bounding_box</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">plugin</span><span class="p">,</span> <span class="n">domain</span><span class="p">,</span> <span class="n">filename</span><span class="p">,</span> <span class="n">data_msg</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">mode</span><span class="o">=&lt;</span><span class="n">AudioTransferType</span><span class="o">.</span><span class="n">AUDIO_PATH</span><span class="p">:</span> <span class="mi">1</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">opts</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">classes</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Request a analysis of 'filename' returning bounding box scores</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>plugin</code></td>
        <td></td>
        <td><p>the name of the plugin</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>domain</code></td>
        <td></td>
        <td><p>the name of the plugin domain</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>filename</code></td>
        <td></td>
        <td><p>the name of the audio file to score</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>mode</code></td>
        <td></td>
        <td><p>the way audio is submitted to the server</p></td>
        <td><code>&lt;AudioTransferType.AUDIO_PATH: 1&gt;</code></td>
      </tr>
      <tr>
        <td><code>opts</code></td>
        <td></td>
        <td><p>a dictionary of name/value pair options</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>classes</code></td>
        <td></td>
        <td><p>optionally,  a list of classes classes to be scored</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td></td>
      <td><p>a list of (start, end) regions in seconds, each region indicates a speech region found in the submitted file.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>olivepy/api/oliveclient.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">analyze_bounding_box</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">plugin</span><span class="p">,</span> <span class="n">domain</span><span class="p">,</span> <span class="n">filename</span><span class="p">,</span> <span class="n">data_msg</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="n">AudioTransferType</span><span class="o">.</span><span class="n">AUDIO_PATH</span><span class="p">,</span> <span class="n">opts</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">classes</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">     Request a analysis of &#39;filename&#39; returning bounding box scores</span>

<span class="sd">    :param plugin: the name of the plugin</span>
<span class="sd">    :param domain: the name of the plugin domain</span>
<span class="sd">    :param filename: the name of the audio file to score</span>
<span class="sd">    :param mode: the way audio is submitted to the server</span>
<span class="sd">    :param opts: a dictionary of name/value pair options</span>
<span class="sd">    :param classes: optionally,  a list of classes classes to be scored</span>

<span class="sd">    :return: a list of (start, end) regions in seconds, each region indicates a speech region found in the submitted file.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fullobj</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">region_score_result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request_bounding_box_scores</span><span class="p">(</span><span class="n">plugin</span><span class="p">,</span> <span class="n">domain</span><span class="p">,</span> <span class="n">filename</span><span class="p">,</span> <span class="n">data_msg</span><span class="o">=</span><span class="n">data_msg</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="n">mode</span><span class="p">,</span> <span class="n">opts</span><span class="o">=</span><span class="n">opts</span><span class="p">,</span> <span class="n">classes</span><span class="o">=</span><span class="n">classes</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">fullobj</span> <span class="o">=</span> <span class="n">region_score_result</span>
    <span class="k">return</span> <span class="n">region_score_result</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="olivepy.api.oliveclient.OliveClient.analyze_frames" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">analyze_frames</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">plugin</span><span class="p">,</span> <span class="n">domain</span><span class="p">,</span> <span class="n">filename</span><span class="p">,</span> <span class="n">data_msg</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">opts</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">classes</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">mode</span><span class="o">=&lt;</span><span class="n">AudioTransferType</span><span class="o">.</span><span class="n">AUDIO_PATH</span><span class="p">:</span> <span class="mi">1</span><span class="o">&gt;</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Request a analysis of 'filename' returning frame scores.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>plugin</code></td>
        <td></td>
        <td><p>the name of the plugin</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>domain</code></td>
        <td></td>
        <td><p>the name of the plugin domain</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>filename</code></td>
        <td></td>
        <td><p>the name of the audio file to score.  if None, then provide (audio) input as a</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>data_msg</code></td>
        <td></td>
        <td><p>Optionally specify the data input as a fully formed Audio or BinaryMedia message instead of creating from filename</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>opts</code></td>
        <td></td>
        <td><p>a dictionary of name/value pair options</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>classes</code></td>
        <td></td>
        <td><p>optionally,  a list of classes classes to be scored</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td></td>
      <td><p>the analysis as a list of (frame) scores</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>olivepy/api/oliveclient.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">analyze_frames</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">plugin</span><span class="p">,</span> <span class="n">domain</span><span class="p">,</span> <span class="n">filename</span><span class="p">,</span> <span class="n">data_msg</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>  <span class="n">opts</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">classes</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>  <span class="n">mode</span><span class="o">=</span><span class="n">AudioTransferType</span><span class="o">.</span><span class="n">AUDIO_PATH</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">     Request a analysis of &#39;filename&#39; returning frame scores.</span>

<span class="sd">    :param plugin: the name of the plugin</span>
<span class="sd">    :param domain: the name of the plugin domain</span>
<span class="sd">    :param filename: the name of the audio file to score.  if None, then provide (audio) input as a</span>
<span class="sd">    :param data_msg: Optionally specify the data input as a fully formed Audio or BinaryMedia message instead of creating from filename</span>
<span class="sd">    :param opts: a dictionary of name/value pair options</span>
<span class="sd">    :param classes: optionally,  a list of classes classes to be scored</span>

<span class="sd">    :return: the analysis as a list of (frame) scores</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fullobj</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">frame_score_result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request_frame_scores</span><span class="p">(</span><span class="n">plugin</span><span class="p">,</span> <span class="n">domain</span><span class="p">,</span> <span class="n">filename</span><span class="p">,</span> <span class="n">data_msg</span><span class="o">=</span> <span class="n">data_msg</span><span class="p">,</span> <span class="n">opts</span><span class="o">=</span><span class="n">opts</span><span class="p">,</span> <span class="n">classes</span><span class="o">=</span><span class="n">classes</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="n">mode</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">frame_score_result</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">frame_score_result</span><span class="o">.</span><span class="n">score</span>

    <span class="k">return</span> <span class="p">[]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="olivepy.api.oliveclient.OliveClient.analyze_global" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">analyze_global</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">plugin</span><span class="p">,</span> <span class="n">domain</span><span class="p">,</span> <span class="n">filename</span><span class="p">,</span> <span class="n">data_msg</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">mode</span><span class="o">=&lt;</span><span class="n">AudioTransferType</span><span class="o">.</span><span class="n">AUDIO_PATH</span><span class="p">:</span> <span class="mi">1</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">opts</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">classes</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Request a LID analysis of 'filename'</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>plugin</code></td>
        <td></td>
        <td><p>the name of the LID plugin</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>domain</code></td>
        <td></td>
        <td><p>the name of the plugin domain</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>filename</code></td>
        <td></td>
        <td><p>the name of the audio file to score</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>mode</code></td>
        <td></td>
        <td><p>the audio transfer mode</p></td>
        <td><code>&lt;AudioTransferType.AUDIO_PATH: 1&gt;</code></td>
      </tr>
      <tr>
        <td><code>opts</code></td>
        <td></td>
        <td><p>a dictionary of name/value pair options</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>classes</code></td>
        <td></td>
        <td><p>optionally,  a list of classes classes to be scored</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td></td>
      <td><p>the analysis result as a list of (global) scores</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>olivepy/api/oliveclient.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">analyze_global</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">plugin</span><span class="p">,</span> <span class="n">domain</span><span class="p">,</span> <span class="n">filename</span><span class="p">,</span> <span class="n">data_msg</span><span class="o">=</span><span class="kc">None</span> <span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="n">AudioTransferType</span><span class="o">.</span><span class="n">AUDIO_PATH</span><span class="p">,</span> <span class="n">opts</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">classes</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">     Request a LID analysis of &#39;filename&#39;</span>

<span class="sd">    :param plugin: the name of the LID plugin</span>
<span class="sd">    :param domain: the name of the plugin domain</span>
<span class="sd">    :param filename: the name of the audio file to score</span>
<span class="sd">    :param mode: the audio transfer mode</span>
<span class="sd">    :param opts: a dictionary of name/value pair options</span>
<span class="sd">    :param classes: optionally,  a list of classes classes to be scored</span>

<span class="sd">    :return: the analysis result as a list of (global) scores</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fullobj</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">request</span> <span class="o">=</span> <span class="n">GlobalScorerRequest</span><span class="p">()</span>
    <span class="n">request</span><span class="o">.</span><span class="n">plugin</span> <span class="o">=</span> <span class="n">plugin</span>
    <span class="n">request</span><span class="o">.</span><span class="n">domain</span> <span class="o">=</span> <span class="n">domain</span>
    <span class="k">if</span> <span class="n">data_msg</span><span class="p">:</span>
        <span class="n">request</span><span class="o">.</span><span class="n">audio</span><span class="o">.</span><span class="n">CopyFrom</span><span class="p">(</span><span class="n">data_msg</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">audio</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">audio</span>
        <span class="n">package_audio</span><span class="p">(</span><span class="n">audio</span><span class="p">,</span> <span class="n">filename</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="n">mode</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_add_options</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">opts</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_add_classes</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">classes</span><span class="p">)</span>

    <span class="c1"># alternatively, you could send an audio buffer:</span>
    <span class="c1"># from scipy.io import wavfile</span>
    <span class="c1"># sample_rate, data = wavfile.read(filename)</span>
    <span class="c1"># package_buffer_audio(audio, data, data.shape[0], sample_rate)</span>

    <span class="n">_</span><span class="p">,</span> <span class="n">env</span> <span class="o">=</span> <span class="n">_wrap_message</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">client_id</span><span class="p">,</span> <span class="n">request</span><span class="p">)</span>
    <span class="c1"># Now send the message</span>
    <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Sending a global score request message&quot;</span><span class="p">)</span>
    <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sync_request</span><span class="p">(</span><span class="n">env</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span><span class="o">.</span><span class="n">score</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="olivepy.api.oliveclient.OliveClient.analyze_regions" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">analyze_regions</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">plugin</span><span class="p">,</span> <span class="n">domain</span><span class="p">,</span> <span class="n">filename</span><span class="p">,</span> <span class="n">data_msg</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">mode</span><span class="o">=&lt;</span><span class="n">AudioTransferType</span><span class="o">.</span><span class="n">AUDIO_PATH</span><span class="p">:</span> <span class="mi">1</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">opts</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">classes</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Request a analysis of 'filename' returning regions</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>plugin</code></td>
        <td></td>
        <td><p>the name of the plugin</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>domain</code></td>
        <td></td>
        <td><p>the name of the plugin domain</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>filename</code></td>
        <td></td>
        <td><p>the name of the audio file to score</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>mode</code></td>
        <td></td>
        <td><p>the way audio is submitted to the server</p></td>
        <td><code>&lt;AudioTransferType.AUDIO_PATH: 1&gt;</code></td>
      </tr>
      <tr>
        <td><code>opts</code></td>
        <td></td>
        <td><p>a dictionary of name/value pair options</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>classes</code></td>
        <td></td>
        <td><p>optionally,  a list of classes classes to be scored</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td></td>
      <td><p>a list of (start, end) regions in seconds, each region indicates a speech region found in the submitted file.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>olivepy/api/oliveclient.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">analyze_regions</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">plugin</span><span class="p">,</span> <span class="n">domain</span><span class="p">,</span> <span class="n">filename</span><span class="p">,</span> <span class="n">data_msg</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="n">AudioTransferType</span><span class="o">.</span><span class="n">AUDIO_PATH</span><span class="p">,</span> <span class="n">opts</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">classes</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">     Request a analysis of &#39;filename&#39; returning regions</span>

<span class="sd">    :param plugin: the name of the plugin</span>
<span class="sd">    :param domain: the name of the plugin domain</span>
<span class="sd">    :param filename: the name of the audio file to score</span>
<span class="sd">    :param mode: the way audio is submitted to the server</span>
<span class="sd">    :param opts: a dictionary of name/value pair options</span>
<span class="sd">    :param classes: optionally,  a list of classes classes to be scored</span>

<span class="sd">    :return: a list of (start, end) regions in seconds, each region indicates a speech region found in the submitted file.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fullobj</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">region_score_result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request_region_scores</span><span class="p">(</span><span class="n">plugin</span><span class="p">,</span> <span class="n">domain</span><span class="p">,</span> <span class="n">filename</span><span class="p">,</span> <span class="n">data_msg</span><span class="o">=</span><span class="n">data_msg</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="n">mode</span><span class="p">,</span> <span class="n">opts</span><span class="o">=</span><span class="n">opts</span><span class="p">,</span> <span class="n">classes</span><span class="o">=</span><span class="n">classes</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">fullobj</span> <span class="o">=</span> <span class="n">region_score_result</span>
    <span class="k">return</span> <span class="n">region_score_result</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="olivepy.api.oliveclient.OliveClient.apply_threshold" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">apply_threshold</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">scores</span><span class="p">,</span> <span class="n">threshold</span><span class="p">,</span> <span class="n">rate</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Very simple  method to convert frame scores to regions.  If speech regions are desired
we can provide a SAD plugin that returns regions instead of frame scores</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>scores</code></td>
        <td></td>
        <td></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>threshold</code></td>
        <td></td>
        <td></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>rate</code></td>
        <td></td>
        <td></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td></td>
      <td><p>frame scores a regions</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>olivepy/api/oliveclient.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">apply_threshold</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">scores</span><span class="p">,</span> <span class="n">threshold</span><span class="p">,</span> <span class="n">rate</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Very simple  method to convert frame scores to regions.  If speech regions are desired</span>
<span class="sd">    we can provide a SAD plugin that returns regions instead of frame scores</span>

<span class="sd">    :param scores:</span>
<span class="sd">    :param threshold:</span>
<span class="sd">    :param rate:</span>

<span class="sd">    :return: frame scores a regions</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">inSegment</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">start</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">segments</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">scores</span><span class="p">)):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">inSegment</span> <span class="ow">and</span> <span class="n">scores</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="n">threshold</span><span class="p">:</span>
            <span class="n">inSegment</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="n">start</span> <span class="o">=</span> <span class="n">i</span>
        <span class="k">elif</span> <span class="n">inSegment</span> <span class="ow">and</span> <span class="p">(</span><span class="n">scores</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">threshold</span> <span class="ow">or</span> <span class="n">i</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">scores</span><span class="p">)</span><span class="o">-</span> <span class="mi">1</span><span class="p">):</span>
            <span class="n">inSegment</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="n">startT</span> <span class="o">=</span> <span class="p">((</span><span class="mf">1.0</span><span class="o">*</span><span class="n">start</span> <span class="o">/</span> <span class="n">rate</span><span class="p">))</span>
            <span class="n">endT</span> <span class="o">=</span> <span class="p">(</span><span class="mf">1.0</span><span class="o">*</span> <span class="n">i</span> <span class="o">/</span> <span class="n">rate</span><span class="p">)</span>
            <span class="n">segments</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">startT</span><span class="p">,</span> <span class="n">endT</span><span class="p">))</span>

    <span class="k">return</span> <span class="n">segments</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="olivepy.api.oliveclient.OliveClient.audio_modification" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">audio_modification</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">plugin</span><span class="p">,</span> <span class="n">domain</span><span class="p">,</span> <span class="n">filename</span><span class="p">,</span> <span class="n">data_msg</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">mode</span><span class="o">=&lt;</span><span class="n">AudioTransferType</span><span class="o">.</span><span class="n">AUDIO_PATH</span><span class="p">:</span> <span class="mi">1</span><span class="o">&gt;</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Do an audio modification (such as an enhansement). This function only accepts one audio and returns on modified audio.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>plugin</code></td>
        <td></td>
        <td><p>the name of the plugin</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>domain</code></td>
        <td></td>
        <td><p>the name of the plugin domain</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>filename</code></td>
        <td></td>
        <td><p>the name of the audio file to score</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td></td>
      <td><p>the analysis as a list of (frame) scores</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>olivepy/api/oliveclient.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">audio_modification</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">plugin</span><span class="p">,</span> <span class="n">domain</span><span class="p">,</span> <span class="n">filename</span><span class="p">,</span> <span class="n">data_msg</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="n">AudioTransferType</span><span class="o">.</span><span class="n">AUDIO_PATH</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Do an audio modification (such as an enhansement). This function only accepts one audio and returns on modified audio.</span>
<span class="sd">    :param plugin: the name of the plugin</span>
<span class="sd">    :param domain: the name of the plugin domain</span>
<span class="sd">    :param filename: the name of the audio file to score</span>

<span class="sd">    :return: the analysis as a list of (frame) scores</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="n">mode</span> <span class="o">!=</span> <span class="n">AudioTransferType</span><span class="o">.</span><span class="n">AUDIO_PATH</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;oliveclient.audio_modification requires an filename path and will not work with binary audio data.&#39;</span><span class="p">)</span>
    <span class="n">request</span> <span class="o">=</span> <span class="n">AudioModificationRequest</span><span class="p">()</span>
    <span class="n">request</span><span class="o">.</span><span class="n">plugin</span> <span class="o">=</span> <span class="n">plugin</span>
    <span class="n">request</span><span class="o">.</span><span class="n">domain</span> <span class="o">=</span> <span class="n">domain</span>
    <span class="n">request</span><span class="o">.</span><span class="n">requested_channels</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">request</span><span class="o">.</span><span class="n">requested_rate</span> <span class="o">=</span> <span class="mi">8000</span>

    <span class="k">if</span> <span class="n">data_msg</span><span class="p">:</span>
        <span class="n">request</span><span class="o">.</span><span class="n">modifications</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">data_msg</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">audio</span> <span class="o">=</span> <span class="n">Audio</span><span class="p">()</span>
        <span class="n">package_audio</span><span class="p">(</span><span class="n">audio</span><span class="p">,</span> <span class="n">filename</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="n">mode</span><span class="p">)</span>
        <span class="c1"># audio = Audio()</span>
        <span class="c1"># audio.path = filename</span>
        <span class="n">request</span><span class="o">.</span><span class="n">modifications</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">audio</span><span class="p">)</span>

    <span class="n">_</span><span class="p">,</span> <span class="n">env</span> <span class="o">=</span> <span class="n">_wrap_message</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">client_id</span><span class="p">,</span> <span class="n">request</span><span class="p">)</span>
    <span class="c1"># Now send the message</span>
    <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Sending a audio modification/enhancement request message&quot;</span><span class="p">)</span>
    <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sync_request</span><span class="p">(</span><span class="n">env</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span><span class="o">.</span><span class="n">successful</span><span class="p">,</span> <span class="n">result</span><span class="o">.</span><span class="n">modification_result</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="olivepy.api.oliveclient.OliveClient.connect" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">monitor_server</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Connect this client to the server</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>monitor_server</code></td>
        <td></td>
        <td><p>if true, start a thread to monitor the server connection (helpful if debugging connection issues)</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>olivepy/api/oliveclient.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">connect</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">monitor_server</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Connect this client to the server</span>

<span class="sd">    :param monitor_server: if true, start a thread to monitor the server connection (helpful if debugging connection issues)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># init the request and status socket</span>
    <span class="n">request_addr</span> <span class="o">=</span> <span class="s2">&quot;tcp://&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">server_address</span> <span class="o">+</span> <span class="s2">&quot;:&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">server_request_port</span><span class="p">)</span>
    <span class="n">status_addr</span> <span class="o">=</span> <span class="s2">&quot;tcp://&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">server_address</span> <span class="o">+</span> <span class="s2">&quot;:&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">server_status_port</span><span class="p">)</span>

    <span class="n">context</span> <span class="o">=</span> <span class="n">zmq</span><span class="o">.</span><span class="n">Context</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">request_socket</span> <span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="n">socket</span><span class="p">(</span><span class="n">zmq</span><span class="o">.</span><span class="n">DEALER</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">status_socket</span> <span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="n">socket</span><span class="p">(</span><span class="n">zmq</span><span class="o">.</span><span class="n">SUB</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">request_socket</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">request_addr</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">status_socket</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">status_addr</span><span class="p">)</span>

    <span class="c1"># logging.debug(&quot;Starting Olive status monitor...&quot;)</span>

    <span class="c1"># Run this to get status about the server (helpful to confirm the server is connected and up)</span>
    <span class="k">if</span><span class="p">(</span><span class="n">monitor_server</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">worker</span> <span class="o">=</span> <span class="n">ClientBrokerWorker</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">status_socket</span><span class="p">,</span>  <span class="bp">self</span><span class="o">.</span><span class="n">client_id</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">worker</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">worker</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">olive_connected</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Olive client ready&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="olivepy.api.oliveclient.OliveClient.convert_preprocessed_annotations" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">convert_preprocessed_annotations</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">processed_audio_list</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Convert the file annotations (a dictionary grouped by file ID, where annotations are grouped by file ID, which
has one or more regions/classes) into class annotations (where annotations are grouped by class ID, with each
class having one or more files, then each file having one or more regions).</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>processed_audio_list</code></td>
        <td></td>
        <td><p>the list of files (indexed by an OLIVE generated ID) and the regions/classes annotated in that file</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td></td>
      <td><p>a dictionary of ClassAnnotation objects, indexed by class ID</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>olivepy/api/oliveclient.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">convert_preprocessed_annotations</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">processed_audio_list</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Convert the file annotations (a dictionary grouped by file ID, where annotations are grouped by file ID, which</span>
<span class="sd">    has one or more regions/classes) into class annotations (where annotations are grouped by class ID, with each</span>
<span class="sd">    class having one or more files, then each file having one or more regions).</span>
<span class="sd">    :param processed_audio_list: the list of files (indexed by an OLIVE generated ID) and</span>
<span class="sd">    the regions/classes annotated in that file</span>
<span class="sd">    :return: a dictionary of ClassAnnotation objects, indexed by class ID</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Now convert the annotations that are grouped by file into a list of annotations grouped by class ID</span>
    <span class="c1"># (speech, non-speech).  This is done in two passes, the first passes builds then new mapping of</span>
    <span class="c1"># class_id --&gt;* audio_id --&gt;* region,</span>
    <span class="c1"># then we convert this new data structure into ClassAnnotation (Protobuf) message(s)</span>
    <span class="n">class_annots</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">audio_id</span><span class="p">,</span> <span class="n">regions</span> <span class="ow">in</span> <span class="n">processed_audio_list</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">region</span> <span class="ow">in</span> <span class="n">regions</span><span class="p">:</span>
            <span class="n">start</span>    <span class="o">=</span> <span class="n">region</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">end</span>      <span class="o">=</span> <span class="n">region</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">class_id</span> <span class="o">=</span> <span class="n">region</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>

            <span class="k">if</span> <span class="n">class_id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">class_annots</span><span class="p">:</span>
                <span class="n">class_annots</span><span class="p">[</span><span class="n">class_id</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

            <span class="k">if</span> <span class="n">audio_id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">class_annots</span><span class="p">[</span><span class="n">class_id</span><span class="p">]:</span>
                <span class="n">class_annots</span><span class="p">[</span><span class="n">class_id</span><span class="p">][</span><span class="n">audio_id</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>

            <span class="n">class_annots</span><span class="p">[</span><span class="n">class_id</span><span class="p">][</span><span class="n">audio_id</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">))</span>

    <span class="c1"># now that the annotations have been grouped by class id, create the annotation protobuf(s)</span>
    <span class="n">protobuf_class_annots</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">class_id</span> <span class="ow">in</span> <span class="n">class_annots</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
        <span class="n">protobuf_class_annots</span><span class="p">[</span><span class="n">class_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">ClassAnnotation</span><span class="p">()</span>
        <span class="n">protobuf_class_annots</span><span class="p">[</span><span class="n">class_id</span><span class="p">]</span><span class="o">.</span><span class="n">class_id</span> <span class="o">=</span> <span class="n">class_id</span>
        <span class="c1"># Add AudioAnnotation(s)</span>
        <span class="k">for</span> <span class="n">audio_id</span> <span class="ow">in</span> <span class="n">class_annots</span><span class="p">[</span><span class="n">class_id</span><span class="p">]:</span>
            <span class="n">aa</span> <span class="o">=</span> <span class="n">AudioAnnotation</span><span class="p">()</span> <span class="c1"># aa = protobuf_class_annots[class_id].annotations.add() in python2.7?</span>
            <span class="n">aa</span><span class="o">.</span><span class="n">audio_id</span> <span class="o">=</span> <span class="n">audio_id</span>
            <span class="k">for</span> <span class="n">region</span> <span class="ow">in</span> <span class="n">class_annots</span><span class="p">[</span><span class="n">class_id</span><span class="p">][</span><span class="n">audio_id</span><span class="p">]:</span>
                <span class="c1"># times are in milliseconds</span>
                <span class="n">ar</span> <span class="o">=</span> <span class="n">AnnotationRegion</span><span class="p">()</span>  <span class="c1"># might need to do ar = aa.regions.add() for Python2.7</span>
                <span class="n">ar</span><span class="o">.</span><span class="n">start_t</span> <span class="o">=</span> <span class="n">region</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                <span class="n">ar</span><span class="o">.</span><span class="n">end_t</span> <span class="o">=</span>  <span class="n">region</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
                <span class="n">aa</span><span class="o">.</span><span class="n">regions</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ar</span><span class="p">)</span>
            <span class="n">protobuf_class_annots</span><span class="p">[</span><span class="n">class_id</span><span class="p">]</span><span class="o">.</span><span class="n">annotations</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">aa</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">protobuf_class_annots</span>
</code></pre></div>
        </details>
    </div>

  </div>




  <div class="doc doc-object doc-method">



<h3 id="olivepy.api.oliveclient.OliveClient.enroll" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">enroll</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">plugin</span><span class="p">,</span> <span class="n">domain</span><span class="p">,</span> <span class="n">class_id</span><span class="p">,</span> <span class="n">filename</span><span class="p">,</span> <span class="n">data_msg</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Request a enrollment of 'audio'</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>plugin</code></td>
        <td></td>
        <td><p>the name of the plugin</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>domain</code></td>
        <td></td>
        <td><p>the name of the plugin domain</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>class_id</code></td>
        <td></td>
        <td><p>the name of the class (speaker) to enroll</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>filename</code></td>
        <td></td>
        <td><p>the filename to add as an audio only enrollment addition</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>data_msg</code></td>
        <td></td>
        <td><p>an BinaryMedia message to add as an enrollment addition</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td></td>
      <td><p>True if enrollment successful</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>olivepy/api/oliveclient.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">enroll</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">plugin</span><span class="p">,</span> <span class="n">domain</span><span class="p">,</span> <span class="n">class_id</span><span class="p">,</span> <span class="n">filename</span><span class="p">,</span> <span class="n">data_msg</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">     Request a enrollment of &#39;audio&#39;</span>

<span class="sd">    :param plugin: the name of the plugin</span>
<span class="sd">    :param domain: the name of the plugin domain</span>
<span class="sd">    :param class_id: the name of the class (speaker) to enroll</span>
<span class="sd">    :param filename: the filename to add as an audio only enrollment addition</span>
<span class="sd">    :param data_msg: an BinaryMedia message to add as an enrollment addition</span>

<span class="sd">    :return: True if enrollment successful</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fullobj</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">enrollment</span> <span class="o">=</span> <span class="n">ClassModificationRequest</span><span class="p">()</span>
    <span class="n">enrollment</span><span class="o">.</span><span class="n">plugin</span> <span class="o">=</span> <span class="n">plugin</span>
    <span class="n">enrollment</span><span class="o">.</span><span class="n">domain</span> <span class="o">=</span> <span class="n">domain</span>
    <span class="n">enrollment</span><span class="o">.</span><span class="n">class_id</span> <span class="o">=</span> <span class="n">class_id</span>
    <span class="n">enrollment</span><span class="o">.</span><span class="n">finalize</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="k">if</span> <span class="n">data_msg</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data_msg</span><span class="p">,</span> <span class="n">Audio</span><span class="p">):</span>
            <span class="n">enrollment</span><span class="o">.</span><span class="n">addition</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">data_msg</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">enrollment</span><span class="o">.</span><span class="n">addition_media</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">data_msg</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">audio</span> <span class="o">=</span> <span class="n">Audio</span><span class="p">()</span>
        <span class="n">package_audio</span><span class="p">(</span><span class="n">audio</span><span class="p">,</span> <span class="n">filename</span><span class="p">)</span>
        <span class="n">enrollment</span><span class="o">.</span><span class="n">addition</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">audio</span><span class="p">)</span>

    <span class="c1"># Wrap message in an Envelope</span>
    <span class="n">_</span><span class="p">,</span> <span class="n">env</span> <span class="o">=</span> <span class="n">_wrap_message</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">client_id</span><span class="p">,</span> <span class="n">enrollment</span><span class="p">)</span>
    <span class="c1"># Now send the envelope</span>
    <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Sending an enrollment message&quot;</span><span class="p">)</span>
    <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sync_request</span><span class="p">(</span><span class="n">env</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">result</span>  <span class="c1"># ClassModificationResult</span>

    <span class="c1"># Wrap message in an Envelope</span>
    <span class="c1"># request = self._wrap_message(enrollment)</span>

    <span class="c1"># # Now send the message</span>
    <span class="c1"># logging.debug(&quot;Sending a class modification request (enrollment) message&quot;)</span>
    <span class="c1"># self.request_socket.send(request.SerializeToString())</span>
    <span class="c1"># logging.debug(&quot;Sending a class modification request (enrollment) message&quot;)</span>
    <span class="c1"># # TODO THIS IS A SYNC REQUST, CAN BE DONE ASYN WITH A CALLBACK...</span>
    <span class="c1"># # Wait for the response from the server</span>
    <span class="c1"># # logging.info(&quot;checking for response&quot;)</span>
    <span class="c1"># protobuf_data = self.request_socket.recv()</span>
    <span class="c1"># logging.info(&quot;Received message from server...&quot;)</span>
    <span class="c1"># envelope = Envelope()</span>
    <span class="c1"># envelope.ParseFromString(protobuf_data)</span>
    <span class="c1">#</span>
    <span class="c1"># # for this use case the server will only have one response in the evevelope:</span>
    <span class="c1"># for i in range(len(envelope.message)):</span>
    <span class="c1">#     olive_msg = envelope.message[i]</span>
    <span class="c1">#</span>
    <span class="c1">#     if olive_msg.HasField(&quot;info&quot;):</span>
    <span class="c1">#         self.info = olive_msg.info</span>
    <span class="c1">#     if olive_msg.HasField(&quot;error&quot;):</span>
    <span class="c1">#         raise ExceptionFromServer(&#39;Got an error from the server: &#39; + olive_msg.error)</span>
    <span class="c1">#     else:</span>
    <span class="c1">#         enrollment_msg = ClassModificationResult()</span>
    <span class="c1">#         enrollment_msg.ParseFromString(olive_msg.message_data[0])</span>
    <span class="c1">#</span>
    <span class="c1">#         # Assume there is only one result set (for &#39;speech&#39;):  frame_score_msg.result[0]</span>
    <span class="c1">#         # TODO - clean up return.  Maybe do something with message.</span>
    <span class="c1">#         self.fullobj = enrollment_msg</span>
    <span class="c1">#         self.info = enrollment_msg.addition_result[0].message  # CLG this would only be set if there was an issue with the enrollment</span>
    <span class="c1">#         return enrollment_msg.addition_result[0].successful</span>
    <span class="c1">#</span>
    <span class="c1"># return False</span>

    <span class="c1"># alternatively, you could send an audio buffer:</span>
    <span class="c1"># from scipy.io import wavfile</span>
    <span class="c1"># sample_rate, data = wavfile.read(filename)</span>
    <span class="c1"># package_buffer_audio(audio, data, data.shape[0], sample_rate)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="olivepy.api.oliveclient.OliveClient.finalize_supervised_adaptation" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">finalize_supervised_adaptation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">plugin</span><span class="p">,</span> <span class="n">domain</span><span class="p">,</span> <span class="n">new_domain_name</span><span class="p">,</span> <span class="n">class_annotations</span><span class="p">,</span> <span class="n">adapt_workspace</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Complete the adaptation</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>plugin</code></td>
        <td></td>
        <td><p>the name of the plugin to adapt</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>domain</code></td>
        <td></td>
        <td><p>the name of the plugin domain to adapt</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>new_domain_name</code></td>
        <td></td>
        <td><p>the name of the new domain that is created within the plugin</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>class_annotations</code></td>
        <td></td>
        <td><p>the audio annotations, grouped by class ID</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td></td>
      <td><p>the name of the new domain</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>olivepy/api/oliveclient.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">finalize_supervised_adaptation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">plugin</span><span class="p">,</span> <span class="n">domain</span><span class="p">,</span> <span class="n">new_domain_name</span><span class="p">,</span> <span class="n">class_annotations</span><span class="p">,</span> <span class="n">adapt_workspace</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">     Complete the adaptation</span>

<span class="sd">    :param plugin: the name of the plugin to adapt</span>
<span class="sd">    :param domain: the name of the plugin domain to adapt</span>
<span class="sd">    :param new_domain_name: the name of the new domain that is created within the plugin</span>

<span class="sd">    :param class_annotations: the audio annotations, grouped by class ID</span>

<span class="sd">    :return: the name of the new domain</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fullobj</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">request</span> <span class="o">=</span> <span class="n">SupervisedAdaptationRequest</span><span class="p">()</span>
    <span class="n">request</span><span class="o">.</span><span class="n">plugin</span> <span class="o">=</span> <span class="n">plugin</span>
    <span class="n">request</span><span class="o">.</span><span class="n">domain</span> <span class="o">=</span> <span class="n">domain</span>
    <span class="n">request</span><span class="o">.</span><span class="n">adapt_space</span> <span class="o">=</span> <span class="n">adapt_workspace</span>
    <span class="n">request</span><span class="o">.</span><span class="n">new_domain</span> <span class="o">=</span> <span class="n">new_domain_name</span>

    <span class="c1"># Add the class annotations</span>
    <span class="k">for</span> <span class="n">class_id</span> <span class="ow">in</span> <span class="n">class_annotations</span><span class="p">:</span>
        <span class="n">request</span><span class="o">.</span><span class="n">class_annotations</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">class_annotations</span><span class="p">[</span><span class="n">class_id</span><span class="p">])</span>  <span class="c1"># request.class_annotations.extend([class_annotations[class_id]]) for Python2.7?</span>

    <span class="c1"># package the request</span>
    <span class="n">_</span><span class="p">,</span> <span class="n">request</span> <span class="o">=</span> <span class="n">_wrap_message</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">client_id</span><span class="p">,</span> <span class="n">request</span><span class="p">)</span>

    <span class="c1"># Now send the message</span>
    <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Sending a finalize adatation message&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">request_socket</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">SerializeToString</span><span class="p">())</span>
    <span class="c1"># Wait for the response from the server</span>
    <span class="n">protobuf_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">request_socket</span><span class="o">.</span><span class="n">recv</span><span class="p">()</span>
    <span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Received message from server...&quot;</span><span class="p">)</span>

    <span class="c1">#Unpack message - boiler plate code, this can be simplified</span>
    <span class="n">envelope</span> <span class="o">=</span> <span class="n">Envelope</span><span class="p">()</span>
    <span class="n">envelope</span><span class="o">.</span><span class="n">ParseFromString</span><span class="p">(</span><span class="n">protobuf_data</span><span class="p">)</span>

    <span class="c1"># for this use case the server will only have one response in the envelope:</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">envelope</span><span class="o">.</span><span class="n">message</span><span class="p">)):</span>
        <span class="n">olive_msg</span> <span class="o">=</span> <span class="n">envelope</span><span class="o">.</span><span class="n">message</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>

        <span class="k">if</span> <span class="n">olive_msg</span><span class="o">.</span><span class="n">HasField</span><span class="p">(</span><span class="s2">&quot;info&quot;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">info</span> <span class="o">=</span> <span class="n">olive_msg</span><span class="o">.</span><span class="n">info</span>
        <span class="k">if</span> <span class="n">olive_msg</span><span class="o">.</span><span class="n">HasField</span><span class="p">(</span><span class="s2">&quot;error&quot;</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">ExceptionFromServer</span><span class="p">(</span><span class="s1">&#39;Got an error from the server: &#39;</span> <span class="o">+</span> <span class="n">olive_msg</span><span class="o">.</span><span class="n">error</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">result_msg</span> <span class="o">=</span> <span class="n">SupervisedAdaptationResult</span><span class="p">()</span>
            <span class="n">result_msg</span><span class="o">.</span><span class="n">ParseFromString</span><span class="p">(</span><span class="n">olive_msg</span><span class="o">.</span><span class="n">message_data</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="c1"># get the new domain</span>
            <span class="c1">#if hasattr(result_msg, &#39;new_domain&#39;) and result_msg.new_domain is not None:</span>
            <span class="c1">#    print(&quot;Adaptation successfully created new domain: &#39;{}&#39;&quot;.format(result_msg.new_domain))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fullobj</span> <span class="o">=</span> <span class="n">result_msg</span>
            <span class="k">return</span> <span class="n">result_msg</span><span class="o">.</span><span class="n">new_domain</span>

    <span class="c1"># adapt failed... TODO: thrown exception instead?</span>
    <span class="k">return</span> <span class="kc">None</span>
</code></pre></div>
        </details>
    </div>

  </div>




  <div class="doc doc-object doc-method">



<h3 id="olivepy.api.oliveclient.OliveClient.get_fullobj" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">get_fullobj</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>This object should be used for debugging only.  Example use::success = client.enroll('sid-embed-v5-py3', 'multilang-v1', 'joshua', 'file')            if troubleshooting:
       fullobj = client.get_fullobj()
       print('Whole object returned from server: '+str(fullobj))</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td></td>
      <td><p>the full object returned from the last call to the server.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>olivepy/api/oliveclient.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">get_fullobj</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    This object should be used for debugging only.  Example use::success = client.enroll(&#39;sid-embed-v5-py3&#39;, &#39;multilang-v1&#39;, &#39;joshua&#39;, &#39;file&#39;) \</span>
<span class="sd">       if troubleshooting:</span>
<span class="sd">           fullobj = client.get_fullobj()</span>
<span class="sd">           print(&#39;Whole object returned from server: &#39;+str(fullobj))</span>

<span class="sd">    :return: the full object returned from the last call to the server.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">fullobj</span>    
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="olivepy.api.oliveclient.OliveClient.get_info" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">get_info</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td></td>
      <td><p>the info data from the last call to the server. Will return None if the last call did not return any info.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>olivepy/api/oliveclient.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">get_info</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    :return: the info data from the last call to the server. Will return None if the last call did not return any info.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">info</span>
</code></pre></div>
        </details>
    </div>

  </div>







  <div class="doc doc-object doc-method">



<h3 id="olivepy.api.oliveclient.OliveClient.parse_annotation_file" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">parse_annotation_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Parse a file for the names of files of audio files and their regions to use for adaptation.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>filename</code></td>
        <td></td>
        <td><p>the path and name of the file that contains the input. This file must have one or more lines having 4 columns: # filename, class, start_region_ms, end_region_ms</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td></td>
      <td><p>the parsed output, in a dictionary indexed by the filename, each element having one or more regions, for example {test.wav: [(2618, 6200, 'S'), (7200, 9500, 'NS')]}</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>olivepy/api/oliveclient.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">parse_annotation_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parse a file for the names of files of audio files and their regions to use for adaptation.</span>
<span class="sd">    :param filename: the path and name of the file that contains the input. This file must have one or more lines having 4 columns:</span>
<span class="sd">    # filename, class, start_region_ms, end_region_ms</span>
<span class="sd">    :return: the parsed output, in a dictionary indexed by the filename, each element having one or more regions,</span>
<span class="sd">    for example {test.wav: [(2618, 6200, &#39;S&#39;), (7200, 9500, &#39;NS&#39;)]}</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">data_lines</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">file_annotations</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">filename</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;The annotation file &#39;</span><span class="si">{}</span><span class="s2">&#39; does not exist&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">filename</span><span class="p">))</span>

    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">data_lines</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">f</span><span class="o">.</span><span class="n">readlines</span><span class="p">()])</span>

    <span class="c1"># process the file</span>
    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">data_lines</span><span class="p">:</span>
        <span class="n">pieces</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">pieces</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">4</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;The annotation file does not contain data in the correct format, found line &#39;</span><span class="si">{}</span><span class="s2">&#39;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">line</span><span class="p">))</span>

        <span class="n">adapt_audio_path</span> <span class="o">=</span> <span class="n">pieces</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

        <span class="c1"># assume a relative file is used, so the full path must be specified since being sent to server</span>
        <span class="c1"># This is being sent to server.  If full path is given, do nothing.  Otherwise make absolute.</span>
        <span class="c1"># TODO: this will not work from UNIX to Windows or other way around.</span>
        <span class="c1"># TODO: should use Python&#39;s abspath here, don&#39;t you think?</span>
        <span class="k">if</span> <span class="n">adapt_audio_path</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">!=</span> <span class="s1">&#39;/&#39;</span> <span class="ow">and</span> <span class="n">adapt_audio_path</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">!=</span> <span class="s1">&#39;:&#39;</span><span class="p">:</span>
            <span class="n">adapt_audio_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">(),</span> <span class="n">adapt_audio_path</span><span class="p">)</span>

        <span class="c1"># todo validate file is valid...</span>

        <span class="k">if</span> <span class="n">adapt_audio_path</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">file_annotations</span><span class="p">:</span>
            <span class="n">file_annotations</span><span class="p">[</span><span class="n">adapt_audio_path</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="n">class_id</span> <span class="o">=</span> <span class="n">pieces</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">start</span>    <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">pieces</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
        <span class="n">end</span>      <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">pieces</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span>

        <span class="n">file_annotations</span><span class="p">[</span><span class="n">adapt_audio_path</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">class_id</span><span class="p">))</span>

    <span class="k">return</span> <span class="n">file_annotations</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="olivepy.api.oliveclient.OliveClient.preprocess_supervised_audio" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">preprocess_supervised_audio</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">plugin</span><span class="p">,</span> <span class="n">domain</span><span class="p">,</span> <span class="n">filename</span><span class="p">,</span> <span class="n">adapt_workspace</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Submit audio for pre-processing phase of adaptation.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>plugin</code></td>
        <td></td>
        <td><p>the name of the plugin to adapt</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>domain</code></td>
        <td></td>
        <td><p>the name of the plugin domain to adapt</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>filename</code></td>
        <td></td>
        <td><p>the name of the audio file to submit to the server/plugin/domain for preprocessing</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td></td>
      <td><p>the unique id generated by the server for the preprocess audio, which must be used</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>olivepy/api/oliveclient.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">preprocess_supervised_audio</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">plugin</span><span class="p">,</span> <span class="n">domain</span><span class="p">,</span> <span class="n">filename</span><span class="p">,</span> <span class="n">adapt_workspace</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">     Submit audio for pre-processing phase of adaptation.</span>

<span class="sd">    :param plugin: the name of the plugin to adapt</span>
<span class="sd">    :param domain: the name of the plugin domain to adapt</span>
<span class="sd">    :param filename: the name of the audio file to submit to the server/plugin/domain for preprocessing</span>
<span class="sd">    :return: the unique id generated by the server for the preprocess audio, which must be used</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># [(2.618, 6.2, &#39;S&#39;), (7.2, 9.5, &#39;NS&#39;)]</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fullobj</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">request</span> <span class="o">=</span> <span class="n">PreprocessAudioAdaptRequest</span><span class="p">()</span>
    <span class="n">request</span><span class="o">.</span><span class="n">plugin</span> <span class="o">=</span> <span class="n">plugin</span>
    <span class="n">request</span><span class="o">.</span><span class="n">domain</span> <span class="o">=</span> <span class="n">domain</span>
    <span class="n">request</span><span class="o">.</span><span class="n">adapt_space</span> <span class="o">=</span> <span class="n">adapt_workspace</span>
    <span class="n">request</span><span class="o">.</span><span class="n">class_id</span> <span class="o">=</span> <span class="s2">&quot;supervised&quot;</span>         <span class="c1"># HACK: for supervised validation in the backend - we will fix this in a future release so not needed</span>
    <span class="c1"># we currently don&#39;t need to set annotations (start_t, end_t) when doing pre-processing</span>

    <span class="c1"># finally, set the audio:</span>
    <span class="n">audio</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">audio</span>
    <span class="c1"># send the name of the file to the server:</span>
    <span class="n">audio</span><span class="o">.</span><span class="n">path</span> <span class="o">=</span> <span class="n">filename</span>
    <span class="c1"># alternatively, you could send an audio buffer:</span>
    <span class="c1"># from scipy.io import wavfile</span>
    <span class="c1"># sample_rate, data = wavfile.read(filename)</span>
    <span class="c1"># package_buffer_audio(audio, data, data.shape[0], sample_rate)</span>
    <span class="c1"># TODO SERIALIZE EXAMPLE...</span>

    <span class="c1"># package the request</span>
    <span class="n">_</span><span class="p">,</span> <span class="n">request</span> <span class="o">=</span> <span class="n">_wrap_message</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">client_id</span><span class="p">,</span> <span class="n">request</span><span class="p">)</span>

    <span class="c1"># Now send the message</span>
    <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Sending a preprocess audio (for adaptation) message&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">request_socket</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">SerializeToString</span><span class="p">())</span>

    <span class="c1"># Wait for the response from the server</span>
    <span class="c1"># logging.info(&quot;checking for response&quot;)</span>
    <span class="n">protobuf_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">request_socket</span><span class="o">.</span><span class="n">recv</span><span class="p">()</span>
    <span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Received message from server...&quot;</span><span class="p">)</span>

    <span class="c1">#Unpack message</span>
    <span class="n">envelope</span> <span class="o">=</span> <span class="n">Envelope</span><span class="p">()</span>
    <span class="n">envelope</span><span class="o">.</span><span class="n">ParseFromString</span><span class="p">(</span><span class="n">protobuf_data</span><span class="p">)</span>

    <span class="c1"># for this use case the server will only have one response in the envelope:</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">envelope</span><span class="o">.</span><span class="n">message</span><span class="p">)):</span>
        <span class="n">olive_msg</span> <span class="o">=</span> <span class="n">envelope</span><span class="o">.</span><span class="n">message</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>

        <span class="k">if</span> <span class="n">olive_msg</span><span class="o">.</span><span class="n">HasField</span><span class="p">(</span><span class="s2">&quot;info&quot;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">info</span> <span class="o">=</span> <span class="n">olive_msg</span><span class="o">.</span><span class="n">info</span>
        <span class="k">if</span> <span class="n">olive_msg</span><span class="o">.</span><span class="n">HasField</span><span class="p">(</span><span class="s2">&quot;error&quot;</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">ExceptionFromServer</span><span class="p">(</span><span class="s1">&#39;Got an error from the server: &#39;</span> <span class="o">+</span> <span class="n">olive_msg</span><span class="o">.</span><span class="n">error</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">result_msg</span> <span class="o">=</span> <span class="n">PreprocessAudioAdaptResult</span><span class="p">()</span>
            <span class="n">result_msg</span><span class="o">.</span><span class="n">ParseFromString</span><span class="p">(</span><span class="n">olive_msg</span><span class="o">.</span><span class="n">message_data</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

            <span class="c1"># get audio id from results, use for final annotations...</span>
            <span class="c1"># print(&quot;Preprocess audio ID {} having duration {}&quot;.format(result_msg.audio_id, result_msg.duration))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fullobj</span> <span class="o">=</span> <span class="n">result_msg</span>
            <span class="k">return</span> <span class="n">result_msg</span><span class="o">.</span><span class="n">audio_id</span>

    <span class="c1"># preprocessing failed... TODO: thrown exception instead?</span>
    <span class="k">return</span> <span class="kc">None</span>
</code></pre></div>
        </details>
    </div>

  </div>




  <div class="doc doc-object doc-method">



<h3 id="olivepy.api.oliveclient.OliveClient.requst_sad_adaptation" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">requst_sad_adaptation</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Example of performing SAD adaptation</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td></td>
      <td></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>olivepy/api/oliveclient.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">requst_sad_adaptation</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Example of performing SAD adaptation</span>
<span class="sd">    :return:</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># todo move to client example (i.e. olivelearn)</span>

    <span class="c1"># using Julie&#39;s sadRegression dataset...</span>

    <span class="c1"># Assume the working directory is root directory for the SAD regression tests</span>

    <span class="c1"># Setup processing variables (get this config or via command line optons</span>
    <span class="n">plugin</span> <span class="o">=</span> <span class="s2">&quot;sad-dnn-v6a&quot;</span>
    <span class="n">domain</span> <span class="o">=</span> <span class="s2">&quot;multi-v1&quot;</span>
    <span class="n">new_domain_name</span> <span class="o">=</span> <span class="s2">&quot;python_adapted_multi-v2&quot;</span>

    <span class="c1"># Build the list of files plus the regions in the those files to adaptn by parsing the input file:</span>
    <span class="n">file_annotations</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parse_annotation_file</span><span class="p">(</span><span class="s2">&quot;lists/adapt_ms.lst&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">adapt_supervised_old</span><span class="p">(</span><span class="n">plugin</span><span class="p">,</span> <span class="n">domain</span><span class="p">,</span> <span class="n">file_annotations</span><span class="p">,</span> <span class="n">new_domain_name</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="olivepy.api.oliveclient.OliveClient.setup_multithreading" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">setup_multithreading</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>This function is only needed for multithreaded programs.  For those programs,
you must call this function from the main thread, so it can properly set up
your signals so that control-C will work properly to exit your program.</p>

        <details class="quote">
          <summary>Source code in <code>olivepy/api/oliveclient.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">setup_multithreading</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;This function is only needed for multithreaded programs.  For those programs,</span>
<span class="sd">       you must call this function from the main thread, so it can properly set up</span>
<span class="sd">       your signals so that control-C will work properly to exit your program.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># https://stackoverflow.com/questions/17174001/stop-pyzmq-receiver-by-keyboardinterrupt</span>
    <span class="c1"># https://stackoverflow.com/questions/23206787/check-if-current-thread-is-main-thread-in-python</span>
    <span class="k">if</span> <span class="n">threading</span><span class="o">.</span><span class="n">current_thread</span><span class="p">()</span> <span class="ow">is</span> <span class="n">threading</span><span class="o">.</span><span class="n">main_thread</span><span class="p">():</span>
        <span class="n">signal</span><span class="o">.</span><span class="n">signal</span><span class="p">(</span><span class="n">signal</span><span class="o">.</span><span class="n">SIGINT</span><span class="p">,</span> <span class="n">signal</span><span class="o">.</span><span class="n">SIG_DFL</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="olivepy.api.oliveclient.OliveClient.unenroll" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">unenroll</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">plugin</span><span class="p">,</span> <span class="n">domain</span><span class="p">,</span> <span class="n">class_id</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Unenrollment the class_id</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>plugin</code></td>
        <td></td>
        <td><p>the name of the plugin</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>domain</code></td>
        <td></td>
        <td><p>the name of the plugin domain</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>class_id</code></td>
        <td></td>
        <td><p>the name of the class (speaker) to enroll</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td></td>
      <td><p>True if enrollment successful</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>olivepy/api/oliveclient.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">unenroll</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">plugin</span><span class="p">,</span> <span class="n">domain</span><span class="p">,</span> <span class="n">class_id</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">     Unenrollment the class_id</span>

<span class="sd">    :param plugin: the name of the plugin</span>
<span class="sd">    :param domain: the name of the plugin domain</span>
<span class="sd">    :param class_id: the name of the class (speaker) to enroll</span>

<span class="sd">    :return: True if enrollment successful</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fullobj</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">removal</span> <span class="o">=</span> <span class="n">ClassRemovalRequest</span><span class="p">()</span>
    <span class="n">removal</span><span class="o">.</span><span class="n">plugin</span> <span class="o">=</span> <span class="n">plugin</span>
    <span class="n">removal</span><span class="o">.</span><span class="n">domain</span> <span class="o">=</span> <span class="n">domain</span>
    <span class="n">removal</span><span class="o">.</span><span class="n">class_id</span> <span class="o">=</span> <span class="n">class_id</span>

    <span class="c1"># Wrap message in an Envelope</span>
    <span class="n">_</span><span class="p">,</span> <span class="n">request</span> <span class="o">=</span> <span class="n">_wrap_message</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">client_id</span><span class="p">,</span> <span class="n">removal</span><span class="p">)</span>

    <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Sending a class modification request (removal) message&quot;</span><span class="p">)</span>
    <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sync_request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
    <span class="c1"># do something?</span>
    <span class="k">return</span> <span class="kc">True</span>
</code></pre></div>
        </details>
    </div>

  </div>








  </div>

    </div>

  </div>




  <div class="doc doc-object doc-function">



<h2 id="olivepy.api.oliveclient.get_bit_depth" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">get_bit_depth</span><span class="p">(</span><span class="n">audio</span><span class="p">)</span></code>


</h2>

    <div class="doc doc-contents ">

      <p>Not using since not assuming numpy is available...</p>

        <details class="quote">
          <summary>Source code in <code>olivepy/api/oliveclient.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">get_bit_depth</span><span class="p">(</span><span class="n">audio</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Not using since not assuming numpy is available...&quot;&quot;&quot;</span>
    <span class="c1"># Numpy is needed to support this...</span>
    <span class="n">dt</span> <span class="o">=</span> <span class="n">audio</span><span class="o">.</span><span class="n">dtype</span>
    <span class="k">if</span> <span class="n">dt</span> <span class="o">==</span> <span class="n">np</span><span class="o">.</span><span class="n">int8</span><span class="p">:</span>
        <span class="k">return</span>  <span class="n">BIT_DEPTH_8</span>
    <span class="k">elif</span> <span class="n">dt</span> <span class="o">==</span> <span class="n">np</span><span class="o">.</span><span class="n">int16</span><span class="p">:</span>
        <span class="k">return</span>  <span class="n">BIT_DEPTH_16</span>
    <span class="k">elif</span> <span class="n">dt</span> <span class="o">==</span> <span class="n">np</span><span class="o">.</span><span class="n">int32</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">BIT_DEPTH_24</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">BIT_DEPTH_32</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h2 id="olivepy.api.oliveclient.package_buffer_audio" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">package_buffer_audio</span><span class="p">(</span><span class="n">audio</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">num_samples</span><span class="p">,</span> <span class="n">sample_rate</span><span class="o">=</span><span class="mi">8000</span><span class="p">,</span> <span class="n">num_channels</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span></code>


</h2>

    <div class="doc doc-contents ">

      <p>Helper function to wrap audio data (decoded samples) into a AudioBuffer message that can submitted to the
server instead of a file name.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>data</code></td>
        <td></td>
        <td><p>the data as a numpy ndarray</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>num_samples</code></td>
        <td></td>
        <td><p>the number of samples</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>sample_rate</code></td>
        <td></td>
        <td><p>the audio sample rate</p></td>
        <td><code>8000</code></td>
      </tr>
      <tr>
        <td><code>num_channels</code></td>
        <td></td>
        <td><p>the number of channels in the audio</p></td>
        <td><code>1</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td></td>
      <td></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>olivepy/api/oliveclient.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">package_buffer_audio</span><span class="p">(</span><span class="n">audio</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">num_samples</span><span class="p">,</span> <span class="n">sample_rate</span><span class="o">=</span><span class="mi">8000</span><span class="p">,</span> <span class="n">num_channels</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Helper function to wrap audio data (decoded samples) into a AudioBuffer message that can submitted to the</span>
<span class="sd">    server instead of a file name.</span>

<span class="sd">    :param data:  the data as a numpy ndarray</span>
<span class="sd">    :param num_samples:  the number of samples</span>
<span class="sd">    :param sample_rate: the audio sample rate</span>
<span class="sd">    :param num_channels: the number of channels in the audio</span>
<span class="sd">    :return:</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># from scipy.io import wavfile</span>
    <span class="c1"># sample_rate, data = wavfile.read(&#39;somefilename.wav&#39;)</span>

    <span class="n">buffer</span> <span class="o">=</span> <span class="n">audio</span><span class="o">.</span><span class="n">audioSamples</span>
    <span class="n">buffer</span><span class="o">.</span><span class="n">channels</span> <span class="o">=</span> <span class="n">num_channels</span>
    <span class="n">buffer</span><span class="o">.</span><span class="n">samples</span> <span class="o">=</span> <span class="n">num_samples</span>  <span class="c1">#data.shape[0]</span>
    <span class="n">buffer</span><span class="o">.</span><span class="n">rate</span> <span class="o">=</span> <span class="n">sample_rate</span>
    <span class="n">buffer</span><span class="o">.</span><span class="n">bit_depth</span> <span class="o">=</span> <span class="n">get_bit_depth</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="n">buffer</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">tostring</span><span class="p">()</span>

    <span class="k">return</span> <span class="n">audio</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>

<h2 id="olivepyapiolive_async_client"><code>olivepy.api.olive_async_client</code></h2>


  <div class="doc doc-object doc-module">

<a id="olivepy.api.olive_async_client"></a>
    <div class="doc doc-contents first">




  <div class="doc doc-children">









  <div class="doc doc-object doc-class">



<h2 id="olivepy.api.olive_async_client.AsyncOliveClient" class="doc doc-heading">
        <code>
AsyncOliveClient            (<span title="threading.Thread">Thread</span>)
        </code>



</h2>

    <div class="doc doc-contents ">

      <p>This class is used to make asynchronous requests to the OLIVE server</p>




  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h3 id="olivepy.api.olive_async_client.AsyncOliveClient.__init__" class="doc doc-heading">
<code class="codehilite language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">client_id</span><span class="p">,</span> <span class="n">address</span><span class="o">=</span><span class="s1">&#39;localhost&#39;</span><span class="p">,</span> <span class="n">request_port</span><span class="o">=</span><span class="mi">5588</span><span class="p">,</span> <span class="n">timeout_second</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>client_id</code></td>
        <td><code>str</code></td>
        <td><p>The unique name of this client.  Due to a ZMQ bug this ID can not end in '1' on some systems</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>address</code></td>
        <td></td>
        <td><p>the address of the olive server, such as localhost</p></td>
        <td><code>&#39;localhost&#39;</code></td>
      </tr>
      <tr>
        <td><code>request_port</code></td>
        <td></td>
        <td><p>default olive port is 5588</p></td>
        <td><code>5588</code></td>
      </tr>
      <tr>
        <td><code>timeout_second</code></td>
        <td></td>
        <td><p>time in seconds, to wait for a response from the server</p></td>
        <td><code>10</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>olivepy/api/olive_async_client.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">client_id</span> <span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">address</span><span class="o">=</span><span class="s1">&#39;localhost&#39;</span><span class="p">,</span> <span class="n">request_port</span><span class="o">=</span><span class="mi">5588</span><span class="p">,</span> <span class="n">timeout_second</span><span class="o">=</span><span class="mi">10</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    :param client_id: The unique name of this client.  Due to a ZMQ bug this ID can not end in &#39;1&#39; on some systems</span>
<span class="sd">    :param address: the address of the olive server, such as localhost</span>
<span class="sd">    :param request_port: default olive port is 5588</span>
<span class="sd">    :param timeout_second:  time in seconds, to wait for a response from the server</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">client_id</span> <span class="o">=</span> <span class="n">client_id</span>

    <span class="c1"># due to a ZMQ bug the last character of the client ID can not be 1, so remove it</span>
    <span class="k">if</span> <span class="n">client_id</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;1&quot;</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client_id</span> <span class="o">=</span> <span class="n">client_id</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">logging</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Last character of the client ID can not be &#39;1&#39;, removing to avoid a ZMQ bug&quot;</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">server_address</span> <span class="o">=</span> <span class="n">address</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">server_request_port</span> <span class="o">=</span> <span class="n">request_port</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">server_status_port</span> <span class="o">=</span> <span class="n">request_port</span><span class="o">+</span><span class="mi">1</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">timeout_seconds</span> <span class="o">=</span> <span class="n">timeout_second</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">request_queue</span> <span class="o">=</span> <span class="n">queue</span><span class="o">.</span><span class="n">Queue</span><span class="p">()</span>
    <span class="c1"># special queue used to emulate blocking requests</span>
    <span class="c1"># self.completed_sync_request_queue = queue.Queue()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">sync_message</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">response_queue</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">working</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">request_socket</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">status_socket</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="c1"># thread to monitor OLIVE server heartbeats</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">worker</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="c1"># self.status_socket = context.socket(zmq.SUB)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">olive_connected</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">monitor_status</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="n">oc</span><span class="o">.</span><span class="n">OliveClient</span><span class="o">.</span><span class="n">setup_multithreading</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="olivepy.api.olive_async_client.AsyncOliveClient.add_heartbeat_listener" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">add_heartbeat_listener</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">heartbeat_callback</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Register a callback function to be notified when a heartbeat is received from the OLIVE server</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>heartbeat_callback</code></td>
        <td><code>Callable[[olive_pb2.Heartbeat], NoneType]</code></td>
        <td><p>The callback method that is notified each time a heartbeat message is received         from the OLIVE server</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>olivepy/api/olive_async_client.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">add_heartbeat_listener</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">heartbeat_callback</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">Heartbeat</span><span class="p">],</span> <span class="kc">None</span><span class="p">]):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Register a callback function to be notified when a heartbeat is received from the OLIVE server</span>

<span class="sd">    :param heartbeat_callback: The callback method that is notified each time a heartbeat message is received \</span>
<span class="sd">    from the OLIVE server</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">worker</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">worker</span><span class="o">.</span><span class="n">add_event_callback</span><span class="p">(</span><span class="n">heartbeat_callback</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Unable to add a heartbeat listener because this client was not started with the status  &quot;</span>
              <span class="s2">&quot; heartbeat monitor enabled&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="olivepy.api.olive_async_client.AsyncOliveClient.analyze_frames" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">analyze_frames</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">plugin</span><span class="p">,</span> <span class="n">domain</span><span class="p">,</span> <span class="n">audio_input</span><span class="p">,</span> <span class="n">callback</span><span class="p">,</span> <span class="n">mode</span><span class="o">=&lt;</span><span class="n">AudioTransferType</span><span class="o">.</span><span class="n">AUDIO_SERIALIZED</span><span class="p">:</span> <span class="mi">3</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">opts</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Request a analysis of 'filename', returning frame scores.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>plugin</code></td>
        <td></td>
        <td><p>the name of the plugin</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>domain</code></td>
        <td></td>
        <td><p>the name of the plugin domain</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>audio_input</code></td>
        <td></td>
        <td><p>the audio to score</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>callback</code></td>
        <td><code>Callable[[olivepy.messaging.response.OliveServerResponse], NoneType]</code></td>
        <td><p>optional method called when the OLIVE server returns a response to this request.         If a callback is not provided, this call blocks until a response is received from the OLIVE server.          The callback method accepts one argument: OliveServerResponse</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>mode</code></td>
        <td></td>
        <td><p>the audio transfer mode</p></td>
        <td><code>&lt;AudioTransferType.AUDIO_SERIALIZED: 3&gt;</code></td>
      </tr>
      <tr>
        <td><code>opts</code></td>
        <td></td>
        <td><p>a dictionary of name/value pair options for this plugin request</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td></td>
      <td><p>a OliveServerResponse containing the status of the request  (FrameScorerResult)</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>olivepy/api/olive_async_client.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">analyze_frames</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">plugin</span><span class="p">,</span> <span class="n">domain</span><span class="p">,</span> <span class="n">audio_input</span><span class="p">,</span> <span class="n">callback</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">response</span><span class="o">.</span><span class="n">OliveServerResponse</span><span class="p">],</span> <span class="kc">None</span><span class="p">],</span> <span class="n">mode</span><span class="o">=</span><span class="n">olivepy</span><span class="o">.</span><span class="n">messaging</span><span class="o">.</span><span class="n">msgutil</span><span class="o">.</span><span class="n">AudioTransferType</span><span class="o">.</span><span class="n">AUDIO_SERIALIZED</span><span class="p">,</span> <span class="n">opts</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">     Request a analysis of &#39;filename&#39;, returning frame scores.</span>

<span class="sd">    :param plugin: the name of the plugin</span>
<span class="sd">    :param domain: the name of the plugin domain</span>
<span class="sd">    :param audio_input: the audio to score</span>
<span class="sd">    :param callback: optional method called when the OLIVE server returns a response to this request. \</span>
<span class="sd">    If a callback is not provided, this call blocks until a response is received from the OLIVE server.  \</span>
<span class="sd">    The callback method accepts one argument: OliveServerResponse</span>
<span class="sd">    :param mode: the audio transfer mode</span>
<span class="sd">    :param opts: a dictionary of name/value pair options for this plugin request</span>

<span class="sd">    :return: a OliveServerResponse containing the status of the request  (FrameScorerResult)</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">request</span> <span class="o">=</span> <span class="n">FrameScorerRequest</span><span class="p">()</span>
    <span class="n">request</span><span class="o">.</span><span class="n">plugin</span> <span class="o">=</span> <span class="n">plugin</span>
    <span class="n">request</span><span class="o">.</span><span class="n">domain</span> <span class="o">=</span> <span class="n">domain</span>
    <span class="n">audio</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">audio</span>
    <span class="n">olivepy</span><span class="o">.</span><span class="n">messaging</span><span class="o">.</span><span class="n">msgutil</span><span class="o">.</span><span class="n">package_audio</span><span class="p">(</span><span class="n">audio</span><span class="p">,</span> <span class="n">audio_input</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="n">mode</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">callback</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">enqueue_request</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">callback</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">sync_request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="olivepy.api.olive_async_client.AsyncOliveClient.analyze_global" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">analyze_global</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">plugin</span><span class="p">,</span> <span class="n">domain</span><span class="p">,</span> <span class="n">audio_input</span><span class="p">,</span> <span class="n">callback</span><span class="p">,</span> <span class="n">mode</span><span class="o">=&lt;</span><span class="n">AudioTransferType</span><span class="o">.</span><span class="n">AUDIO_SERIALIZED</span><span class="p">:</span> <span class="mi">3</span><span class="o">&gt;</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Request a global score analysis of 'filename'</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>plugin</code></td>
        <td></td>
        <td><p>the name of the plugin</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>domain</code></td>
        <td></td>
        <td><p>the name of the plugin domain</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>audio_input</code></td>
        <td></td>
        <td><p>the name of the audio file to score</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>callback</code></td>
        <td><code>Callable[[olivepy.messaging.response.OliveServerResponse], NoneType]</code></td>
        <td><p>optional method called when the OLIVE server returns a response to the request.  If a         callback is not provided, this call blocks until a response is received from the OLIVE server.  The callback         method accepts one argument: OliveServerResponse</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>mode</code></td>
        <td></td>
        <td><p>the audio transfer mode</p></td>
        <td><code>&lt;AudioTransferType.AUDIO_SERIALIZED: 3&gt;</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td></td>
      <td><p>a OliveServerResponse containing the status of the request  (GlobalScorerResult)</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>olivepy/api/olive_async_client.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">analyze_global</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">plugin</span><span class="p">,</span> <span class="n">domain</span><span class="p">,</span> <span class="n">audio_input</span><span class="p">,</span> <span class="n">callback</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">response</span><span class="o">.</span><span class="n">OliveServerResponse</span><span class="p">],</span> <span class="kc">None</span><span class="p">],</span> <span class="n">mode</span><span class="o">=</span><span class="n">olivepy</span><span class="o">.</span><span class="n">messaging</span><span class="o">.</span><span class="n">msgutil</span><span class="o">.</span><span class="n">AudioTransferType</span><span class="o">.</span><span class="n">AUDIO_SERIALIZED</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">     Request a global score analysis of &#39;filename&#39;</span>

<span class="sd">    :param plugin: the name of the plugin</span>
<span class="sd">    :param domain: the name of the plugin domain</span>
<span class="sd">    :param audio_input: the name of the audio file to score</span>
<span class="sd">    :param callback: optional method called when the OLIVE server returns a response to the request.  If a \</span>
<span class="sd">    callback is not provided, this call blocks until a response is received from the OLIVE server.  The callback \</span>
<span class="sd">    method accepts one argument: OliveServerResponse</span>
<span class="sd">    :param mode: the audio transfer mode</span>

<span class="sd">    :return: a OliveServerResponse containing the status of the request  (GlobalScorerResult)</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fullobj</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">request</span> <span class="o">=</span> <span class="n">GlobalScorerRequest</span><span class="p">()</span>
    <span class="n">request</span><span class="o">.</span><span class="n">plugin</span> <span class="o">=</span> <span class="n">plugin</span>
    <span class="n">request</span><span class="o">.</span><span class="n">domain</span> <span class="o">=</span> <span class="n">domain</span>
    <span class="n">audio</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">audio</span>
    <span class="n">olivepy</span><span class="o">.</span><span class="n">messaging</span><span class="o">.</span><span class="n">msgutil</span><span class="o">.</span><span class="n">package_audio</span><span class="p">(</span><span class="n">audio</span><span class="p">,</span> <span class="n">audio_input</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="n">mode</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">enqueue_request</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">callback</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">callback</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">enqueue_request</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">callback</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">sync_request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="olivepy.api.olive_async_client.AsyncOliveClient.analyze_regions" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">analyze_regions</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">plugin</span><span class="p">,</span> <span class="n">domain</span><span class="p">,</span> <span class="n">filename</span><span class="p">,</span> <span class="n">callback</span><span class="p">,</span> <span class="n">mode</span><span class="o">=&lt;</span><span class="n">AudioTransferType</span><span class="o">.</span><span class="n">AUDIO_SERIALIZED</span><span class="p">:</span> <span class="mi">3</span><span class="o">&gt;</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Request a analysis of 'filename', returning regions</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>plugin</code></td>
        <td></td>
        <td><p>the name of the plugin</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>domain</code></td>
        <td></td>
        <td><p>the name of the plugin domain</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>filename</code></td>
        <td></td>
        <td><p>the name of the audio file to score</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>callback</code></td>
        <td><code>Callable[[olivepy.messaging.response.OliveServerResponse], NoneType]</code></td>
        <td><p>optional method called when the OLIVE server returns a response to the request.  If a         callback is not provided, this call blocks until a response is received from the OLIVE server.  The callback         method accepts one argument: OliveServerResponse</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>mode</code></td>
        <td></td>
        <td><p>the audio transfer mode</p></td>
        <td><code>&lt;AudioTransferType.AUDIO_SERIALIZED: 3&gt;</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td></td>
      <td><p>a OliveServerResponse containing the status of the request  (RegionScorerResult)</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>olivepy/api/olive_async_client.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">analyze_regions</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">plugin</span><span class="p">,</span> <span class="n">domain</span><span class="p">,</span> <span class="n">filename</span><span class="p">,</span> <span class="n">callback</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">response</span><span class="o">.</span><span class="n">OliveServerResponse</span><span class="p">],</span> <span class="kc">None</span><span class="p">],</span> <span class="n">mode</span><span class="o">=</span><span class="n">olivepy</span><span class="o">.</span><span class="n">messaging</span><span class="o">.</span><span class="n">msgutil</span><span class="o">.</span><span class="n">AudioTransferType</span><span class="o">.</span><span class="n">AUDIO_SERIALIZED</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">     Request a analysis of &#39;filename&#39;, returning regions</span>

<span class="sd">    :param plugin: the name of the plugin</span>
<span class="sd">    :param domain: the name of the plugin domain</span>
<span class="sd">    :param filename: the name of the audio file to score</span>
<span class="sd">    :param callback: optional method called when the OLIVE server returns a response to the request.  If a \</span>
<span class="sd">    callback is not provided, this call blocks until a response is received from the OLIVE server.  The callback \</span>
<span class="sd">    method accepts one argument: OliveServerResponse</span>
<span class="sd">    :param mode: the audio transfer mode</span>

<span class="sd">    :return: a OliveServerResponse containing the status of the request  (RegionScorerResult)</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">request</span> <span class="o">=</span> <span class="n">RegionScorerRequest</span><span class="p">()</span>
    <span class="n">request</span><span class="o">.</span><span class="n">plugin</span> <span class="o">=</span> <span class="n">plugin</span>
    <span class="n">request</span><span class="o">.</span><span class="n">domain</span> <span class="o">=</span> <span class="n">domain</span>
    <span class="n">audio</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">audio</span>
    <span class="n">olivepy</span><span class="o">.</span><span class="n">messaging</span><span class="o">.</span><span class="n">msgutil</span><span class="o">.</span><span class="n">package_audio</span><span class="p">(</span><span class="n">audio</span><span class="p">,</span> <span class="n">filename</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="n">mode</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">callback</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">enqueue_request</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">callback</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">sync_request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="olivepy.api.olive_async_client.AsyncOliveClient.audio_modification" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">audio_modification</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">plugin</span><span class="p">,</span> <span class="n">domain</span><span class="p">,</span> <span class="n">audio_input</span><span class="p">,</span> <span class="n">callback</span><span class="p">,</span> <span class="n">mode</span><span class="o">=&lt;</span><span class="n">AudioTransferType</span><span class="o">.</span><span class="n">AUDIO_SERIALIZED</span><span class="p">:</span> <span class="mi">3</span><span class="o">&gt;</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Used to make a AudioModificationRequest (enhancement).</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>plugin</code></td>
        <td></td>
        <td><p>the name of the plugin</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>domain</code></td>
        <td></td>
        <td><p>the name of the plugin domain</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>audio_input</code></td>
        <td></td>
        <td><p>the audio path or buffer to submit for modification</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>callback</code></td>
        <td><code>Callable[[olivepy.messaging.response.OliveServerResponse], NoneType]</code></td>
        <td><p>optional method called when the OLIVE server returns a response to the request.  If a         callback is not provided, this call blocks until a response is received from the OLIVE server.  The callback         method accepts one argument: OliveServerResponse</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>mode</code></td>
        <td></td>
        <td><p>the audio transfer mode</p></td>
        <td><code>&lt;AudioTransferType.AUDIO_SERIALIZED: 3&gt;</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td></td>
      <td><p>a OliveServerResponse containing the status of the request  (AudioModificationResult)</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>olivepy/api/olive_async_client.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">audio_modification</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">plugin</span><span class="p">,</span> <span class="n">domain</span><span class="p">,</span> <span class="n">audio_input</span><span class="p">,</span> <span class="n">callback</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">response</span><span class="o">.</span><span class="n">OliveServerResponse</span><span class="p">],</span> <span class="kc">None</span><span class="p">],</span> <span class="n">mode</span><span class="o">=</span><span class="n">olivepy</span><span class="o">.</span><span class="n">messaging</span><span class="o">.</span><span class="n">msgutil</span><span class="o">.</span><span class="n">AudioTransferType</span><span class="o">.</span><span class="n">AUDIO_SERIALIZED</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Used to make a AudioModificationRequest (enhancement).</span>

<span class="sd">    :param plugin: the name of the plugin</span>
<span class="sd">    :param domain: the name of the plugin domain</span>
<span class="sd">    :param audio_input: the audio path or buffer to submit for modification</span>
<span class="sd">    :param callback: optional method called when the OLIVE server returns a response to the request.  If a \</span>
<span class="sd">    callback is not provided, this call blocks until a response is received from the OLIVE server.  The callback \</span>
<span class="sd">    method accepts one argument: OliveServerResponse</span>
<span class="sd">    :param mode: the audio transfer mode</span>
<span class="sd">    :return: a OliveServerResponse containing the status of the request  (AudioModificationResult)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">mode</span> <span class="o">!=</span> <span class="n">olivepy</span><span class="o">.</span><span class="n">messaging</span><span class="o">.</span><span class="n">msgutil</span><span class="o">.</span><span class="n">AudioTransferType</span><span class="o">.</span><span class="n">AUDIO_PATH</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;oliveclient.audio_modification requires an filename path and will not work with binary audio data.&#39;</span><span class="p">)</span>
    <span class="n">request</span> <span class="o">=</span> <span class="n">AudioModificationRequest</span><span class="p">()</span>
    <span class="n">request</span><span class="o">.</span><span class="n">plugin</span> <span class="o">=</span> <span class="n">plugin</span>
    <span class="n">request</span><span class="o">.</span><span class="n">domain</span> <span class="o">=</span> <span class="n">domain</span>
    <span class="n">request</span><span class="o">.</span><span class="n">requested_channels</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">request</span><span class="o">.</span><span class="n">requested_rate</span> <span class="o">=</span> <span class="mi">8000</span>
    <span class="n">audio</span> <span class="o">=</span> <span class="n">Audio</span><span class="p">()</span>
    <span class="n">olivepy</span><span class="o">.</span><span class="n">messaging</span><span class="o">.</span><span class="n">msgutil</span><span class="o">.</span><span class="n">package_audio</span><span class="p">(</span><span class="n">audio</span><span class="p">,</span> <span class="n">audio_input</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="n">mode</span><span class="p">)</span>
    <span class="n">request</span><span class="o">.</span><span class="n">modifications</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">audio</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">callback</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">enqueue_request</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">callback</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">sync_request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="olivepy.api.olive_async_client.AsyncOliveClient.clear_heartbeat_listeners" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">clear_heartbeat_listeners</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Remove all heartbeat listeners</p>

        <details class="quote">
          <summary>Source code in <code>olivepy/api/olive_async_client.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">clear_heartbeat_listeners</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Remove all heartbeat listeners</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">worker</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">worker</span><span class="o">.</span><span class="n">clear_callback</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="olivepy.api.olive_async_client.AsyncOliveClient.connect" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">monitor_status</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Connect this client to the server</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>monitor_server</code></td>
        <td></td>
        <td><p>if true, starts a thread to monitor the server status connection for heartbeat messages</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>olivepy/api/olive_async_client.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">connect</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">monitor_status</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Connect this client to the server</span>

<span class="sd">    :param monitor_server: if true, starts a thread to monitor the server status connection for heartbeat messages</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># logging.debug(&quot;Starting Olive async monitor...&quot;)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">monitor_status</span> <span class="o">=</span> <span class="n">monitor_status</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">connection_done</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Event</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
    <span class="c1"># block until connected</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">olive_connected</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">connection_done</span><span class="o">.</span><span class="n">wait</span><span class="p">()</span>


    <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Olive async client ready&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="olivepy.api.olive_async_client.AsyncOliveClient.disconnect" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">disconnect</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Closes the connection to the  OLIVE server</p>

        <details class="quote">
          <summary>Source code in <code>olivepy/api/olive_async_client.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">disconnect</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Closes the connection to the  OLIVE server</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">worker</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">worker</span><span class="o">.</span><span class="n">stopWorker</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">working</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">olive_connected</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">join</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">request_socket</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="olivepy.api.olive_async_client.AsyncOliveClient.enqueue_request" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">enqueue_request</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">,</span> <span class="n">callback</span><span class="p">,</span> <span class="n">wrapper</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Add a message request to the outbound queue</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>message</code></td>
        <td></td>
        <td><p>the request message to send</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>callback</code></td>
        <td></td>
        <td><p>this is called when response message is received from the server</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>wrapper</code></td>
        <td></td>
        <td><p>the message wrapper</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>olivepy/api/olive_async_client.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">enqueue_request</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">,</span> <span class="n">callback</span><span class="p">,</span> <span class="n">wrapper</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Add a message request to the outbound queue</span>

<span class="sd">    :param message:  the request message to send</span>
<span class="sd">    :param callback: this is called when response message is received from the server</span>
<span class="sd">    :param wrapper: the message wrapper</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="n">wrapper</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">wrapper</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">OliveServerResponse</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">request_queue</span><span class="o">.</span><span class="n">put</span><span class="p">((</span><span class="n">message</span><span class="p">,</span> <span class="n">callback</span><span class="p">,</span> <span class="n">wrapper</span><span class="p">))</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="olivepy.api.olive_async_client.AsyncOliveClient.enroll" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">enroll</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">plugin</span><span class="p">,</span> <span class="n">domain</span><span class="p">,</span> <span class="n">class_id</span><span class="p">,</span> <span class="n">audio_input</span><span class="p">,</span> <span class="n">callback</span><span class="p">,</span> <span class="n">mode</span><span class="o">=&lt;</span><span class="n">AudioTransferType</span><span class="o">.</span><span class="n">AUDIO_SERIALIZED</span><span class="p">:</span> <span class="mi">3</span><span class="o">&gt;</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Request a enrollment of 'audio'</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>plugin</code></td>
        <td></td>
        <td><p>the name of the plugin</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>domain</code></td>
        <td></td>
        <td><p>the name of the plugin domain</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>class_id</code></td>
        <td></td>
        <td><p>the name of the class (i.e. speaker) to enroll</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>audio_input</code></td>
        <td></td>
        <td><p>the Audio message to add as an enrollment addition</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>callback</code></td>
        <td><code>Callable[[olivepy.messaging.response.OliveServerResponse], NoneType]</code></td>
        <td><p>optional method called when the OLIVE server returns a response to the request.  If a         callback is not provided, this call blocks until a response is received from the OLIVE server.  The callback         method accepts one argument: OliveServerResponse</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>mode</code></td>
        <td></td>
        <td><p>the audio transfer mode</p></td>
        <td><code>&lt;AudioTransferType.AUDIO_SERIALIZED: 3&gt;</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td></td>
      <td><p>a OliveServerResponse containing the status of the request  (ClassModificationResult)</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>olivepy/api/olive_async_client.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">enroll</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">plugin</span><span class="p">,</span> <span class="n">domain</span><span class="p">,</span> <span class="n">class_id</span><span class="p">,</span> <span class="n">audio_input</span><span class="p">,</span> <span class="n">callback</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">response</span><span class="o">.</span><span class="n">OliveServerResponse</span><span class="p">],</span> <span class="kc">None</span><span class="p">],</span> <span class="n">mode</span><span class="o">=</span><span class="n">olivepy</span><span class="o">.</span><span class="n">messaging</span><span class="o">.</span><span class="n">msgutil</span><span class="o">.</span><span class="n">AudioTransferType</span><span class="o">.</span><span class="n">AUDIO_SERIALIZED</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">     Request a enrollment of &#39;audio&#39;</span>

<span class="sd">    :param plugin: the name of the plugin</span>
<span class="sd">    :param domain: the name of the plugin domain</span>
<span class="sd">    :param class_id: the name of the class (i.e. speaker) to enroll</span>
<span class="sd">    :param audio_input: the Audio message to add as an enrollment addition</span>
<span class="sd">    :param callback: optional method called when the OLIVE server returns a response to the request.  If a \</span>
<span class="sd">    callback is not provided, this call blocks until a response is received from the OLIVE server.  The callback \</span>
<span class="sd">    method accepts one argument: OliveServerResponse</span>
<span class="sd">    :param mode: the audio transfer mode</span>

<span class="sd">    :return: a OliveServerResponse containing the status of the request  (ClassModificationResult)</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">enrollment</span> <span class="o">=</span> <span class="n">ClassModificationRequest</span><span class="p">()</span>
    <span class="n">enrollment</span><span class="o">.</span><span class="n">plugin</span> <span class="o">=</span> <span class="n">plugin</span>
    <span class="n">enrollment</span><span class="o">.</span><span class="n">domain</span> <span class="o">=</span> <span class="n">domain</span>
    <span class="n">enrollment</span><span class="o">.</span><span class="n">class_id</span> <span class="o">=</span> <span class="n">class_id</span>
    <span class="n">enrollment</span><span class="o">.</span><span class="n">finalize</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">audio</span> <span class="o">=</span> <span class="n">Audio</span><span class="p">()</span>
    <span class="n">olivepy</span><span class="o">.</span><span class="n">messaging</span><span class="o">.</span><span class="n">msgutil</span><span class="o">.</span><span class="n">package_audio</span><span class="p">(</span><span class="n">audio</span><span class="p">,</span> <span class="n">audio_input</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="n">mode</span><span class="p">)</span>
    <span class="n">enrollment</span><span class="o">.</span><span class="n">addition</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">audio</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">callback</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">enqueue_request</span><span class="p">(</span><span class="n">enrollment</span><span class="p">,</span> <span class="n">callback</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">sync_request</span><span class="p">(</span><span class="n">enrollment</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="olivepy.api.olive_async_client.AsyncOliveClient.get_active" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">get_active</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">callback</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Used to make a GetActiveRequest</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>callback</code></td>
        <td><code>Callable[[olivepy.messaging.response.OliveServerResponse], NoneType]</code></td>
        <td><p>optional method called when the OLIVE server returns a response to this request.         If a callback is not provided, this call blocks until a response is received from the OLIVE server.          The callback method accepts one argument: OliveServerResponse</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td></td>
      <td><p>a OliveServerResponse containing the status of the request  (GetActiveResult)</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>olivepy/api/olive_async_client.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">get_active</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">callback</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">response</span><span class="o">.</span><span class="n">OliveServerResponse</span><span class="p">],</span> <span class="kc">None</span><span class="p">]):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Used to make a GetActiveRequest</span>

<span class="sd">    :param callback: optional method called when the OLIVE server returns a response to this request. \</span>
<span class="sd">    If a callback is not provided, this call blocks until a response is received from the OLIVE server.  \</span>
<span class="sd">    The callback method accepts one argument: OliveServerResponse</span>

<span class="sd">    :return: a OliveServerResponse containing the status of the request  (GetActiveResult)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">request</span> <span class="o">=</span> <span class="n">GetActiveRequest</span><span class="p">()</span>

    <span class="k">if</span> <span class="n">callback</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">enqueue_request</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">callback</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">sync_request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="olivepy.api.olive_async_client.AsyncOliveClient.get_status" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">get_status</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Used to make a GetStatusRequest and receive a GetStatusResult</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>callback</code></td>
        <td><code>Callable[[olivepy.messaging.response.OliveServerResponse], NoneType]</code></td>
        <td><p>optional method called when the OLIVE server returns a response to the request.  If a callback is not provided, this call blocks until a response is received from the OLIVE server.  The callback method accepts one argument: OliveServerResponse</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td></td>
      <td><p>a OliveServerResponse that contains the most recent server status (GetStatusResult)</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>olivepy/api/olive_async_client.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">get_status</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">callback</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">response</span><span class="o">.</span><span class="n">OliveServerResponse</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Used to make a GetStatusRequest and receive a GetStatusResult</span>

<span class="sd">    :param callback: optional method called when the OLIVE server returns a response to the request.  If a callback is not provided, this call blocks until a response is received from the OLIVE server.  The callback method accepts one argument: OliveServerResponse</span>

<span class="sd">    :return: a OliveServerResponse that contains the most recent server status (GetStatusResult)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">request</span> <span class="o">=</span> <span class="n">GetStatusRequest</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">callback</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">enqueue_request</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">callback</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">sync_request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="olivepy.api.olive_async_client.AsyncOliveClient.get_update_status" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">get_update_status</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">plugin</span><span class="p">,</span> <span class="n">domain</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Used to make a GetUpdateStatusRequest</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>plugin</code></td>
        <td></td>
        <td><p>the name of the plugin to query</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>domain</code></td>
        <td></td>
        <td><p>the name of the domain to query</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>callback</code></td>
        <td><code>Callable[[olivepy.messaging.response.OliveServerResponse], NoneType]</code></td>
        <td><p>optional method called when the OLIVE server returns a response to this request.         If a callback is not provided, this call blocks until a response is received from the OLIVE server.          The callback method accepts one argument: OliveServerResponse</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td></td>
      <td><p>a OliveServerResponse containing the update status of the requested plugin/domain  (GetUpdateStatusResult</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>olivepy/api/olive_async_client.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">get_update_status</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">plugin</span><span class="p">,</span> <span class="n">domain</span><span class="p">,</span> <span class="n">callback</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">response</span><span class="o">.</span><span class="n">OliveServerResponse</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Used to make a GetUpdateStatusRequest</span>

<span class="sd">    :param plugin: the name of the plugin to query</span>
<span class="sd">    :param domain: the name of the domain to query</span>
<span class="sd">    :param callback: optional method called when the OLIVE server returns a response to this request. \</span>
<span class="sd">    If a callback is not provided, this call blocks until a response is received from the OLIVE server.  \</span>
<span class="sd">    The callback method accepts one argument: OliveServerResponse</span>

<span class="sd">    :return: a OliveServerResponse containing the update status of the requested plugin/domain  (GetUpdateStatusResult</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">request</span> <span class="o">=</span> <span class="n">GetUpdateStatusRequest</span><span class="p">()</span>
    <span class="n">request</span><span class="o">.</span><span class="n">plugin</span> <span class="o">=</span> <span class="n">plugin</span>
    <span class="n">request</span><span class="o">.</span><span class="n">domain</span> <span class="o">=</span> <span class="n">domain</span>

    <span class="k">if</span> <span class="n">callback</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">enqueue_request</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">callback</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">sync_request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="olivepy.api.olive_async_client.AsyncOliveClient.is_connected" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">is_connected</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Status of the connection to the OLIVE server</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td></td>
      <td><p>True if connected</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>olivepy/api/olive_async_client.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">is_connected</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Status of the connection to the OLIVE server</span>

<span class="sd">    :return: True if connected</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">olive_connected</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="olivepy.api.olive_async_client.AsyncOliveClient.load_plugin_domain" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">load_plugin_domain</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">plugin</span><span class="p">,</span> <span class="n">domain</span><span class="p">,</span> <span class="n">callback</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Used to make a request to pre-load a plugin/domain (via a LoadPluginDomainRequest message)</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>plugin</code></td>
        <td></td>
        <td><p>the name of the plugin to pre-load</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>domain</code></td>
        <td></td>
        <td><p>the name of hte domain to pre-load</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>callback</code></td>
        <td><code>Callable[[olivepy.messaging.response.OliveServerResponse], NoneType]</code></td>
        <td><p>optional method called when the OLIVE server returns a response to this request.         If a callback is not provided, this call blocks until a response is received from the OLIVE server.          The callback method accepts one argument: OliveServerResponse</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td></td>
      <td><p>a OliveServerResponse containing the update status of the request  (LoadPluginDomainResult)</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>olivepy/api/olive_async_client.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">load_plugin_domain</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">plugin</span><span class="p">,</span> <span class="n">domain</span><span class="p">,</span> <span class="n">callback</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">response</span><span class="o">.</span><span class="n">OliveServerResponse</span><span class="p">],</span> <span class="kc">None</span><span class="p">]):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Used to make a request to pre-load a plugin/domain (via a LoadPluginDomainRequest message)</span>

<span class="sd">    :param plugin: the name of the plugin to pre-load</span>
<span class="sd">    :param domain: the name of hte domain to pre-load</span>
<span class="sd">    :param callback: optional method called when the OLIVE server returns a response to this request. \</span>
<span class="sd">    If a callback is not provided, this call blocks until a response is received from the OLIVE server.  \</span>
<span class="sd">    The callback method accepts one argument: OliveServerResponse</span>

<span class="sd">    :return: a OliveServerResponse containing the update status of the request  (LoadPluginDomainResult)</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">request</span> <span class="o">=</span> <span class="n">LoadPluginDomainRequest</span><span class="p">()</span>
    <span class="n">request</span><span class="o">.</span><span class="n">plugin</span> <span class="o">=</span> <span class="n">plugin</span>
    <span class="n">request</span><span class="o">.</span><span class="n">domain</span> <span class="o">=</span> <span class="n">domain</span>

    <span class="k">if</span> <span class="n">callback</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">enqueue_request</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">callback</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">sync_request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="olivepy.api.olive_async_client.AsyncOliveClient.request_plugins" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">request_plugins</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Used to make a PluginDirectoryRequest</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>callback</code></td>
        <td><code>Callable[[olivepy.messaging.response.OliveServerResponse], NoneType]</code></td>
        <td><p>optional method called when the OLIVE server returns a response to this request.         If a callback is not provided, this call blocks until a response is received from the OLIVE server.          The callback method accepts one argument: OliveServerResponse</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td></td>
      <td><p>a OliveServerResponse containing information about available plugin/domains (PluginDirectoryResult)</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>olivepy/api/olive_async_client.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">request_plugins</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">callback</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">response</span><span class="o">.</span><span class="n">OliveServerResponse</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Used to make a PluginDirectoryRequest</span>

<span class="sd">    :param callback: optional method called when the OLIVE server returns a response to this request. \</span>
<span class="sd">    If a callback is not provided, this call blocks until a response is received from the OLIVE server.  \</span>
<span class="sd">    The callback method accepts one argument: OliveServerResponse</span>

<span class="sd">    :return: a OliveServerResponse containing information about available plugin/domains (PluginDirectoryResult)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">request</span> <span class="o">=</span> <span class="n">PluginDirectoryRequest</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">callback</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">enqueue_request</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">callback</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">sync_request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="olivepy.api.olive_async_client.AsyncOliveClient.run" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">run</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Starts the thread to handle async messages</p>

        <details class="quote">
          <summary>Source code in <code>olivepy/api/olive_async_client.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Starts the thread to handle async messages</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Starting OLIVE Async Message Worker for id: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">client_id</span><span class="p">))</span>

        <span class="n">context</span> <span class="o">=</span> <span class="n">zmq</span><span class="o">.</span><span class="n">Context</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">request_socket</span> <span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="n">socket</span><span class="p">(</span><span class="n">zmq</span><span class="o">.</span><span class="n">DEALER</span><span class="p">)</span>

        <span class="c1"># init the request and status socket</span>
        <span class="n">request_addr</span> <span class="o">=</span> <span class="s2">&quot;tcp://&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">server_address</span> <span class="o">+</span> <span class="s2">&quot;:&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">server_request_port</span><span class="p">)</span>
        <span class="n">status_addr</span> <span class="o">=</span> <span class="s2">&quot;tcp://&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">server_address</span> <span class="o">+</span> <span class="s2">&quot;:&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">server_status_port</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">request_socket</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">request_addr</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">monitor_status</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;connecting to status socket...&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">status_socket</span> <span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="n">socket</span><span class="p">(</span><span class="n">zmq</span><span class="o">.</span><span class="n">SUB</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">status_socket</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">status_addr</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">worker</span> <span class="o">=</span> <span class="n">ClientMonitorThread</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">status_socket</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">client_id</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">worker</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">worker</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">working</span> <span class="o">=</span> <span class="kc">True</span>

        <span class="n">poller</span> <span class="o">=</span> <span class="n">zmq</span><span class="o">.</span><span class="n">Poller</span><span class="p">()</span>
        <span class="n">poller</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">request_socket</span><span class="p">,</span> <span class="n">zmq</span><span class="o">.</span><span class="n">POLLIN</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Error connecting to the OLIVE server: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">e</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">olive_connected</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="k">finally</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">connection_done</span><span class="o">.</span><span class="n">set</span><span class="p">()</span>

    <span class="k">while</span> <span class="bp">self</span><span class="o">.</span><span class="n">working</span><span class="p">:</span>
        <span class="c1"># First, send any client requests</span>
        <span class="k">while</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">request_queue</span><span class="o">.</span><span class="n">empty</span><span class="p">():</span>
            <span class="n">request_msg</span><span class="p">,</span> <span class="n">cb</span><span class="p">,</span> <span class="n">wrapper</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">request_queue</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
            <span class="n">msg_id</span><span class="p">,</span> <span class="n">env</span> <span class="o">=</span> <span class="n">msgutil</span><span class="o">.</span><span class="n">_wrap_message</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">client_id</span><span class="p">,</span> <span class="n">request_msg</span><span class="p">)</span>
            <span class="c1"># Add to our callback Q</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">response_queue</span><span class="p">[</span><span class="n">msg_id</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">request_msg</span><span class="p">,</span> <span class="n">cb</span><span class="p">,</span> <span class="n">wrapper</span><span class="p">)</span>
            <span class="c1"># Now send the message</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Sending client request msg type: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">env</span><span class="o">.</span><span class="n">message</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">message_type</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">request_socket</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">env</span><span class="o">.</span><span class="n">SerializeToString</span><span class="p">())</span>

        <span class="c1"># Now check for any results from the server</span>
        <span class="c1"># logging.info(&quot;checking for response&quot;)</span>
        <span class="n">socks</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">poller</span><span class="o">.</span><span class="n">poll</span><span class="p">(</span><span class="n">BLOCK_TIMEOUT_MS</span><span class="p">))</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">request_socket</span> <span class="ow">in</span> <span class="n">socks</span><span class="p">:</span>
            <span class="c1"># logging.info(&quot;Received message from OLIVE...&quot;)</span>
            <span class="n">protobuf_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">request_socket</span><span class="o">.</span><span class="n">recv</span><span class="p">()</span>
            <span class="n">envelope</span> <span class="o">=</span> <span class="n">Envelope</span><span class="p">()</span>
            <span class="n">envelope</span><span class="o">.</span><span class="n">ParseFromString</span><span class="p">(</span><span class="n">protobuf_data</span><span class="p">)</span>

            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">envelope</span><span class="o">.</span><span class="n">message</span><span class="p">)):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_process_response</span><span class="p">(</span><span class="n">envelope</span><span class="o">.</span><span class="n">message</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>


    <span class="n">poller</span><span class="o">.</span><span class="n">unregister</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">request_socket</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">request_socket</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="c1"># todo what do we do with the status socket?</span>
    <span class="c1"># self.status_socket.close()</span>
    <span class="c1"># print(&quot;Async client worker stopped&quot;)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="olivepy.api.olive_async_client.AsyncOliveClient.setup_multithreading" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">setup_multithreading</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>This function is only needed for multithreaded programs.  For those programs,
you must call this function from the main thread, so it can properly set up
your signals so that control-C will work properly to exit your program.</p>

        <details class="quote">
          <summary>Source code in <code>olivepy/api/olive_async_client.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">setup_multithreading</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;This function is only needed for multithreaded programs.  For those programs,</span>
<span class="sd">       you must call this function from the main thread, so it can properly set up</span>
<span class="sd">       your signals so that control-C will work properly to exit your program.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="c1"># https://stackoverflow.com/questions/17174001/stop-pyzmq-receiver-by-keyboardinterrupt</span>
    <span class="c1"># https://stackoverflow.com/questions/23206787/check-if-current-thread-is-main-thread-in-python</span>
    <span class="k">if</span> <span class="n">threading</span><span class="o">.</span><span class="n">current_thread</span><span class="p">()</span> <span class="ow">is</span> <span class="n">threading</span><span class="o">.</span><span class="n">main_thread</span><span class="p">():</span>
        <span class="n">signal</span><span class="o">.</span><span class="n">signal</span><span class="p">(</span><span class="n">signal</span><span class="o">.</span><span class="n">SIGINT</span><span class="p">,</span> <span class="n">signal</span><span class="o">.</span><span class="n">SIG_DFL</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="olivepy.api.olive_async_client.AsyncOliveClient.sync_request" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">sync_request</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">,</span> <span class="n">wrapper</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Send a request to the OLIVE server, but wait for a response from the server</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>message</code></td>
        <td></td>
        <td><p>the request message to send to the OLIVE server</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td></td>
      <td><p>the response from the server</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>olivepy/api/olive_async_client.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">sync_request</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">,</span> <span class="n">wrapper</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Send a request to the OLIVE server, but wait for a response from the server</span>

<span class="sd">    :param message: the request message to send to the OLIVE server</span>

<span class="sd">    :return: the response from the server</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="n">wrapper</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">wrapper</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">OliveServerResponse</span><span class="p">()</span>

    <span class="c1"># create an ID for this sync_request</span>
    <span class="n">sync_id</span> <span class="o">=</span> <span class="n">msgutil</span><span class="o">.</span><span class="n">get_uuid</span><span class="p">()</span>
    <span class="n">result_available</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Event</span><span class="p">()</span>
    <span class="c1"># result_event = None</span>

    <span class="n">cb</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">response</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sync_callback</span><span class="p">(</span><span class="n">response</span><span class="p">,</span> <span class="n">sync_id</span><span class="p">,</span> <span class="n">result_available</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">enqueue_request</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="n">cb</span><span class="p">,</span> <span class="n">wrapper</span><span class="p">)</span>

    <span class="n">result_available</span><span class="o">.</span><span class="n">wait</span><span class="p">()</span>
    <span class="c1"># get the result</span>
    <span class="k">if</span> <span class="n">sync_id</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">sync_message</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">sync_message</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">sync_id</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># unexpected.... callback event completed with no result</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Error waiting for a response from the server&quot;</span><span class="p">)</span>


    <span class="c1"># self.completed_sync_request_queue.put()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="olivepy.api.olive_async_client.AsyncOliveClient.unenroll" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">unenroll</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">plugin</span><span class="p">,</span> <span class="n">domain</span><span class="p">,</span> <span class="n">class_id</span><span class="p">,</span> <span class="n">callback</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Unenroll class_id</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>plugin</code></td>
        <td></td>
        <td><p>the name of the plugin</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>domain</code></td>
        <td></td>
        <td><p>the name of the plugin domain</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>class_id</code></td>
        <td></td>
        <td><p>the name of the class (i.e. speaker) to remove</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>callback</code></td>
        <td><code>Callable[[olivepy.messaging.response.OliveServerResponse], NoneType]</code></td>
        <td><p>optional method called when the OLIVE server returns a response to the request.  If a         callback is not provided, this call blocks until a response is received from the OLIVE server.  The callback         method accepts one argument: OliveServerResponse</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td></td>
      <td><p>a OliveServerResponse containing the status of the request  (ClassRemovalResult)</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>olivepy/api/olive_async_client.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">unenroll</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">plugin</span><span class="p">,</span> <span class="n">domain</span><span class="p">,</span> <span class="n">class_id</span><span class="p">,</span> <span class="n">callback</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">response</span><span class="o">.</span><span class="n">OliveServerResponse</span><span class="p">],</span> <span class="kc">None</span><span class="p">]):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">     Unenroll class_id</span>

<span class="sd">    :param plugin: the name of the plugin</span>
<span class="sd">    :param domain: the name of the plugin domain</span>
<span class="sd">    :param class_id: the name of the class (i.e. speaker) to remove</span>
<span class="sd">    :param callback: optional method called when the OLIVE server returns a response to the request.  If a \</span>
<span class="sd">    callback is not provided, this call blocks until a response is received from the OLIVE server.  The callback \</span>
<span class="sd">    method accepts one argument: OliveServerResponse</span>

<span class="sd">    :return: a OliveServerResponse containing the status of the request  (ClassRemovalResult)</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">removal</span> <span class="o">=</span> <span class="n">ClassRemovalRequest</span><span class="p">()</span>
    <span class="n">removal</span><span class="o">.</span><span class="n">plugin</span> <span class="o">=</span> <span class="n">plugin</span>
    <span class="n">removal</span><span class="o">.</span><span class="n">domain</span> <span class="o">=</span> <span class="n">domain</span>
    <span class="n">removal</span><span class="o">.</span><span class="n">class_id</span> <span class="o">=</span> <span class="n">class_id</span>

    <span class="k">if</span> <span class="n">callback</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">enqueue_request</span><span class="p">(</span><span class="n">removal</span><span class="p">,</span> <span class="n">callback</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">sync_request</span><span class="p">(</span><span class="n">removal</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="olivepy.api.olive_async_client.AsyncOliveClient.unload_plugin_domain" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">unload_plugin_domain</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">plugin</span><span class="p">,</span> <span class="n">domain</span><span class="p">,</span> <span class="n">callback</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Used to make a unload plugin/domain request (RemovePluginDomainRequest).  This request will un-load a loaded         plugin from server memory)</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>plugin</code></td>
        <td></td>
        <td><p>the name of the plugin to unload</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>domain</code></td>
        <td></td>
        <td><p>the name of hte domain to unload</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>callback</code></td>
        <td><code>Callable[[olivepy.messaging.response.OliveServerResponse], NoneType]</code></td>
        <td><p>optional method called when the OLIVE server returns a response to this request.         If a callback is not provided, this call blocks until a response is received from the OLIVE server.          The callback method accepts one argument: OliveServerResponse</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td></td>
      <td><p>a OliveServerResponse containing the status of the request  (RemovePluginDomainResult)</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>olivepy/api/olive_async_client.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">unload_plugin_domain</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">plugin</span><span class="p">,</span> <span class="n">domain</span><span class="p">,</span> <span class="n">callback</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">response</span><span class="o">.</span><span class="n">OliveServerResponse</span><span class="p">],</span> <span class="kc">None</span><span class="p">]):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Used to make a unload plugin/domain request (RemovePluginDomainRequest).  This request will un-load a loaded \</span>
<span class="sd">    plugin from server memory)</span>

<span class="sd">    :param plugin: the name of the plugin to unload</span>
<span class="sd">    :param domain: the name of hte domain to unload</span>
<span class="sd">    :param callback: optional method called when the OLIVE server returns a response to this request. \</span>
<span class="sd">    If a callback is not provided, this call blocks until a response is received from the OLIVE server.  \</span>
<span class="sd">    The callback method accepts one argument: OliveServerResponse</span>

<span class="sd">    :return: a OliveServerResponse containing the status of the request  (RemovePluginDomainResult)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">request</span> <span class="o">=</span> <span class="n">RemovePluginDomainRequest</span><span class="p">()</span>
    <span class="n">request</span><span class="o">.</span><span class="n">plugin</span> <span class="o">=</span> <span class="n">plugin</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
    <span class="n">request</span><span class="o">.</span><span class="n">domain</span> <span class="o">=</span> <span class="n">domain</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>

    <span class="k">if</span> <span class="n">callback</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">enqueue_request</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">callback</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">sync_request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="olivepy.api.olive_async_client.AsyncOliveClient.update_plugin_domain" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">update_plugin_domain</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">plugin</span><span class="p">,</span> <span class="n">domain</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span> <span class="n">callback</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Used to make a ApplyUpdateRequest</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>plugin</code></td>
        <td></td>
        <td><p>the name of the plugin to update</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>domain</code></td>
        <td></td>
        <td><p>the name of hte domain to update</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>callback</code></td>
        <td><code>Callable[[olivepy.messaging.response.OliveServerResponse], NoneType]</code></td>
        <td><p>optional method called when the OLIVE server returns a response to this request.         If a callback is not provided, this call blocks until a response is received from the OLIVE server.          The callback method accepts one argument: OliveServerResponse</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td></td>
      <td><p>a OliveServerResponse containing the status of the request  (ApplyUpdateResult)</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>olivepy/api/olive_async_client.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">update_plugin_domain</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">plugin</span><span class="p">,</span> <span class="n">domain</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span> <span class="n">callback</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">response</span><span class="o">.</span><span class="n">OliveServerResponse</span><span class="p">],</span> <span class="kc">None</span><span class="p">]):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Used to make a ApplyUpdateRequest</span>

<span class="sd">    :param plugin: the name of the plugin to update</span>
<span class="sd">    :param domain: the name of hte domain to update</span>
<span class="sd">    :param callback: optional method called when the OLIVE server returns a response to this request. \</span>
<span class="sd">    If a callback is not provided, this call blocks until a response is received from the OLIVE server.  \</span>
<span class="sd">    The callback method accepts one argument: OliveServerResponse</span>

<span class="sd">    :return: a OliveServerResponse containing the status of the request  (ApplyUpdateResult)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">request</span> <span class="o">=</span> <span class="n">ApplyUpdateRequest</span><span class="p">()</span>
    <span class="n">request</span><span class="o">.</span><span class="n">plugin</span> <span class="o">=</span> <span class="n">plugin</span>
    <span class="n">request</span><span class="o">.</span><span class="n">domain</span> <span class="o">=</span> <span class="n">domain</span>

    <span class="n">mds</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">params</span>
    <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">metadata</span><span class="p">:</span>
        <span class="n">md</span> <span class="o">=</span> <span class="n">Metadata</span><span class="p">()</span>
        <span class="n">md</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">key</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">md</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
            <span class="n">md</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="mi">2</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="nb">float</span><span class="p">):</span>
            <span class="n">md</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="mi">3</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="nb">bool</span><span class="p">):</span>
            <span class="n">md</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="mi">4</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="n">md</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="mi">5</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;Metadata </span><span class="si">{}</span><span class="s1"> had a </span><span class="si">{}</span><span class="s1"> type that was not str, int, float, bool, or list.&#39;</span>
                            <span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">item</span><span class="p">))))</span>
        <span class="n">md</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">item</span>
        <span class="n">mds</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">md</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">callback</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">enqueue_request</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">callback</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">sync_request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h2 id="olivepy.api.olive_async_client.ClientMonitorThread" class="doc doc-heading">
        <code>
ClientMonitorThread            (<span title="threading.Thread">Thread</span>)
        </code>



</h2>

    <div class="doc doc-contents ">

      <p>Helper used to monitor the status of the Oliveserver</p>




  <div class="doc doc-children">










  <div class="doc doc-object doc-method">



<h3 id="olivepy.api.olive_async_client.ClientMonitorThread.add_event_callback" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">add_event_callback</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">callback</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Callback function that is notified of a heartbeat</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>callback</code></td>
        <td><code>Callable[[olive_pb2.Heartbeat], NoneType]</code></td>
        <td><p>the function that is called with a Heartbeat object</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>olivepy/api/olive_async_client.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">add_event_callback</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">callback</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">Heartbeat</span><span class="p">],</span> <span class="kc">None</span><span class="p">]):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Callback function that is notified of a heartbeat</span>

<span class="sd">    :param callback: the function that is called with a Heartbeat object</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">event_callback</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">callback</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>




  <div class="doc doc-object doc-method">



<h3 id="olivepy.api.olive_async_client.ClientMonitorThread.run" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">run</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Method representing the thread's activity.</p>
<p>You may override this method in a subclass. The standard run() method
invokes the callable object passed to the object's constructor as the
target argument, if any, with sequential and keyword arguments taken
from the args and kwargs arguments, respectively.</p>

        <details class="quote">
          <summary>Source code in <code>olivepy/api/olive_async_client.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="c1"># print(&quot;Starting Olive Status Monitor  for id: {}&quot;.format(self.client_id))</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">working</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">status_socket</span><span class="o">.</span><span class="n">subscribe</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>

    <span class="n">poller</span> <span class="o">=</span> <span class="n">zmq</span><span class="o">.</span><span class="n">Poller</span><span class="p">()</span>
    <span class="n">poller</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">status_socket</span><span class="p">,</span> <span class="n">zmq</span><span class="o">.</span><span class="n">POLLIN</span><span class="p">)</span>
    <span class="n">last_heartbeat</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>

    <span class="k">while</span> <span class="bp">self</span><span class="o">.</span><span class="n">working</span><span class="p">:</span>

        <span class="c1"># Now check for any results from the server</span>
        <span class="c1"># logging.info(&quot;checking for response&quot;)</span>
        <span class="n">socks</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">poller</span><span class="o">.</span><span class="n">poll</span><span class="p">(</span><span class="n">BLOCK_TIMEOUT_MS</span><span class="p">))</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">status_socket</span> <span class="ow">in</span> <span class="n">socks</span><span class="p">:</span>
            <span class="n">last_heartbeat</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
            <span class="c1"># print(&quot;Received status message from OLIVE...&quot;)</span>
            <span class="n">heatbeat_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">status_socket</span><span class="o">.</span><span class="n">recv</span><span class="p">()</span>
            <span class="n">heatbeat</span> <span class="o">=</span> <span class="n">Heartbeat</span><span class="p">()</span>
            <span class="n">heatbeat</span><span class="o">.</span><span class="n">ParseFromString</span><span class="p">(</span><span class="n">heatbeat_data</span><span class="p">)</span>

            <span class="k">for</span> <span class="n">cb</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">event_callback</span><span class="p">:</span>
                <span class="n">cb</span><span class="p">(</span><span class="n">heatbeat</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># Consider using the same timeout for messages?</span>
            <span class="k">if</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">last_heartbeat</span> <span class="o">&gt;</span> <span class="n">HEARTBEAT_TIMEOUT_SECONDS</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;heartbeat timeout&quot;</span><span class="p">)</span>
                <span class="c1"># it has been too long since a heatbeat message was received from the server... assume there server is down</span>
                <span class="k">for</span> <span class="n">cb</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">event_callback</span><span class="p">:</span>
                    <span class="n">cb</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">status_socket</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>







  </div>

    </div>

  </div>

<h2 id="olivepyapiworkflow"><code>olivepy.api.workflow</code></h2>


  <div class="doc doc-object doc-module">

<a id="olivepy.api.workflow"></a>
    <div class="doc doc-contents first">




  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h2 id="olivepy.api.workflow.OliveWorkflow" class="doc doc-heading">
        <code>
OliveWorkflow        </code>



</h2>

    <div class="doc doc-contents ">

      <p>An OliveWorkflow instance represents a Workflow Definition actualized by an OLIVE server.  Once actualized, an OliveWorkflow instance is used to make analysis,
or enrollment/unenrollment requests.  An OliveWorkflow should be created using an OliveWorkflowDefinition's create_workflow() method.  All calls to the server include an optional callback.  When the callback is provided, the call does not block and the callback method is invoked when a response is received from the server.  A callback method has 3 arguments:  the original request, the response, and an  error message if the request failed.</p>

<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>WorkflowException</code></td>
        <td><p>If the workflow was not actualized</p></td>
      </tr>
  </tbody>
</table>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h3 id="olivepy.api.workflow.OliveWorkflow.__init__" class="doc doc-heading">
<code class="codehilite language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">olive_async_client</span><span class="p">,</span> <span class="n">actualized_workflow</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>olive_async_client</code></td>
        <td><code>AsyncOliveClient</code></td>
        <td><p>the client connection to the OLIVE server</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>actualized_workflow</code></td>
        <td><code>OliveWorkflowActualizedResponse</code></td>
        <td><p>An OliveWorkflowDefinition actualized by the server</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>olivepy/api/workflow.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">olive_async_client</span><span class="p">:</span> <span class="n">AsyncOliveClient</span><span class="p">,</span>
             <span class="n">actualized_workflow</span><span class="p">:</span> <span class="n">response</span><span class="o">.</span><span class="n">OliveWorkflowActualizedResponse</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    :param olive_async_client:  the client connection to the OLIVE server</span>
<span class="sd">    :param actualized_workflow: An OliveWorkflowDefinition actualized by the server</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">client</span> <span class="o">=</span> <span class="n">olive_async_client</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">workflow_response</span> <span class="o">=</span> <span class="n">actualized_workflow</span>
    <span class="n">actualized_workflow_definition</span> <span class="o">=</span> <span class="n">actualized_workflow</span><span class="o">.</span><span class="n">get_workflow</span><span class="p">()</span>
    <span class="c1"># make sure an OLIvE server has actualized this workflow</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">actualized_workflow_definition</span><span class="o">.</span><span class="n">actualized</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">WorkflowException</span><span class="p">(</span><span class="s2">&quot;Error: Can not create an OliveWorkflow using  a Workflow Definition that has not &quot;</span>
                                <span class="s2">&quot;been actualized by an OLIVE server&quot;</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">workflow_def</span> <span class="o">=</span> <span class="n">actualized_workflow_definition</span>

    <span class="c1"># note: enrollment and adapt should only have one task/job</span>
    <span class="c1"># but there could be multiple plugins/task that could support enrollment or adaptation.. so we focus on</span>
    <span class="c1"># analysis</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="olivepy.api.workflow.OliveWorkflow.adapt" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">adapt</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_input</span><span class="p">,</span> <span class="n">callback</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">finalize</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>NOT YET SUPPORTED -- and not sure it will ever be supported via workflow</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>data_input</code></td>
        <td></td>
        <td></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>callback</code></td>
        <td></td>
        <td></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>options</code></td>
        <td></td>
        <td></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>finalize</code></td>
        <td></td>
        <td></td>
        <td><code>True</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td></td>
      <td><p>not supported</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>olivepy/api/workflow.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">adapt</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_input</span><span class="p">,</span> <span class="n">callback</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">finalize</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    NOT YET SUPPORTED -- and not sure it will ever be supported via workflow</span>

<span class="sd">    :param data_input:</span>
<span class="sd">    :param callback:</span>
<span class="sd">    :param options:</span>
<span class="sd">    :param finalize:</span>

<span class="sd">    :return: not supported</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Workflow adaption not supported&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="olivepy.api.workflow.OliveWorkflow.analyze" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">analyze</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_inputs</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Perform a workflow analysis</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>data_inputs</code></td>
        <td><code>List[olive_pb2.WorkflowDataRequest]</code></td>
        <td><p>a list of data inputs created using the package_audio(), package_text(), package_image(), or package_video() method.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>callback</code></td>
        <td></td>
        <td><p>an optional callback that is invoked with the workflow completes.  If not specified this method blocks, returning OliveWorkflowAnalysisResponse when done. Otherwise this method immediately returns and the callback method is invoked when the response is received.  The callback method signature requires 3 arguments: requst, result, error_mssage.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>options</code></td>
        <td><code>str</code></td>
        <td><p>a JSON string of name/value options to include with the analysis request such as '{"filter_length":99, "interpolate":1.0, "test_name":"midge"}'</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>OliveWorkflowAnalysisResponse</code></td>
      <td><p>an OliveWorkflowAnalysisResponse (if no callback provided)</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>olivepy/api/workflow.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">analyze</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_inputs</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">WorkflowDataRequest</span><span class="p">],</span>
            <span class="n">callback</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">options</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">response</span><span class="o">.</span><span class="n">OliveWorkflowAnalysisResponse</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Perform a workflow analysis</span>

<span class="sd">    :param data_inputs:  a list of data inputs created using the package_audio(), package_text(), package_image(), or package_video() method.</span>
<span class="sd">    :param callback: an optional callback that is invoked with the workflow completes.  If not specified this method blocks, returning OliveWorkflowAnalysisResponse when done. Otherwise this method immediately returns and the callback method is invoked when the response is received.  The callback method signature requires 3 arguments: requst, result, error_mssage.</span>
<span class="sd">    :param options: a JSON string of name/value options to include with the analysis request such as &#39;{&quot;filter_length&quot;:99, &quot;interpolate&quot;:1.0, &quot;test_name&quot;:&quot;midge&quot;}&#39;</span>

<span class="sd">    :return: an OliveWorkflowAnalysisResponse (if no callback provided)</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># make call blocking if no callback or always assume it is async?</span>
    <span class="n">analysis_request</span> <span class="o">=</span> <span class="n">WorkflowAnalysisRequest</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">di</span> <span class="ow">in</span> <span class="n">data_inputs</span><span class="p">:</span>
        <span class="n">analysis_request</span><span class="o">.</span><span class="n">workflow_data_input</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">di</span><span class="p">)</span>
    <span class="n">analysis_request</span><span class="o">.</span><span class="n">workflow_definition</span><span class="o">.</span><span class="n">CopyFrom</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">workflow_def</span><span class="p">)</span>

    <span class="c1"># Parse options (if any)</span>
    <span class="k">if</span> <span class="n">options</span><span class="p">:</span>
        <span class="n">jopts</span> <span class="o">=</span> <span class="n">utils</span><span class="o">.</span><span class="n">parse_json_options</span><span class="p">(</span><span class="n">options</span><span class="p">)</span>
        <span class="n">analysis_request</span><span class="o">.</span><span class="n">option</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">jopts</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">callback</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">enqueue_request</span><span class="p">(</span><span class="n">analysis_request</span><span class="p">,</span> <span class="n">callback</span><span class="p">,</span> <span class="n">response</span><span class="o">.</span><span class="n">OliveWorkflowAnalysisResponse</span><span class="p">())</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">sync_request</span><span class="p">(</span><span class="n">analysis_request</span><span class="p">,</span> <span class="n">response</span><span class="o">.</span><span class="n">OliveWorkflowAnalysisResponse</span><span class="p">())</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="olivepy.api.workflow.OliveWorkflow.enroll" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">enroll</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_inputs</span><span class="p">,</span> <span class="n">class_id</span><span class="p">,</span> <span class="n">job_names</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Submit data for enrollment.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>data_inputs</code></td>
        <td><code>List[olive_pb2.WorkflowDataRequest]</code></td>
        <td><p>a list of data inputs created using the package_audio(), package_text(), package_image(), or package_video() method.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>class_id</code></td>
        <td><code>str</code></td>
        <td><p>the name of the enrollment</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>job_names</code></td>
        <td><code>List[str]</code></td>
        <td><p>a list of job names, where the audio is enrolled with these jobs support enrollment.  This value can be None, in which case the data input(s) is enrolled for each job.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>callback</code></td>
        <td></td>
        <td><p>an optional callback that is invoked when the workflow completes.  If not specified this method blocks, returning an OliveWorkflowAnalysisResponse when the enrollment completes on the server.  Otherwise this method immediately returns and the callback method is invoked when the response is received.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>options</code></td>
        <td></td>
        <td><p>a dictionary of name/value option pairs to include with the enrollment request</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td></td>
      <td><p>server enrollment response if no callback provided</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>olivepy/api/workflow.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">enroll</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_inputs</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">WorkflowDataRequest</span><span class="p">],</span> <span class="n">class_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">job_names</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">callback</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
           <span class="n">options</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Submit data for enrollment.</span>

<span class="sd">    :param data_inputs:  a list of data inputs created using the package_audio(), package_text(), package_image(), or package_video() method.</span>
<span class="sd">    :param class_id:  the name of the enrollment</span>
<span class="sd">    :param job_names: a list of job names, where the audio is enrolled with these jobs support enrollment.  This value can be None, in which case the data input(s) is enrolled for each job.</span>
<span class="sd">    :param callback: an optional callback that is invoked when the workflow completes.  If not specified this method blocks, returning an OliveWorkflowAnalysisResponse when the enrollment completes on the server.  Otherwise this method immediately returns and the callback method is invoked when the response is received.</span>
<span class="sd">    :param options: a dictionary of name/value option pairs to include with the enrollment request</span>

<span class="sd">    :return: server enrollment response if no callback provided</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># # first, get the enrollment order</span>
    <span class="c1"># for order in self.workflow_def.order:</span>
    <span class="c1">#     if order.workflow_type == WORKFLOW_ENROLLMENT_TYPE:</span>
    <span class="c1">#         workflow_enrollment_order_msg = order</span>
    <span class="c1">#         break</span>
    <span class="c1">#</span>
    <span class="c1"># if workflow_enrollment_order_msg is None:</span>
    <span class="c1">#     raise Exception(&quot;This workflow does not contain any &quot;)</span>
    <span class="c1">#</span>
    <span class="c1">#</span>
    <span class="c1"># for name in task_names:</span>

    <span class="c1"># make call blocking if no callback or always assume it is async?</span>
    <span class="n">enroll_request</span> <span class="o">=</span> <span class="n">WorkflowEnrollRequest</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">di</span> <span class="ow">in</span> <span class="n">data_inputs</span><span class="p">:</span>
        <span class="n">enroll_request</span><span class="o">.</span><span class="n">workflow_data_input</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">di</span><span class="p">)</span>
    <span class="n">enroll_request</span><span class="o">.</span><span class="n">workflow_definition</span><span class="o">.</span><span class="n">CopyFrom</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">workflow_def</span><span class="p">)</span>
    <span class="n">enroll_request</span><span class="o">.</span><span class="n">class_id</span> <span class="o">=</span> <span class="n">class_id</span>

    <span class="k">for</span> <span class="n">job_task</span> <span class="ow">in</span> <span class="n">job_names</span><span class="p">:</span>
        <span class="n">enroll_request</span><span class="o">.</span><span class="n">job_names</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">job_task</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">options</span><span class="p">:</span>
        <span class="n">jopts</span> <span class="o">=</span> <span class="n">utils</span><span class="o">.</span><span class="n">parse_json_options</span><span class="p">(</span><span class="n">options</span><span class="p">)</span>
        <span class="n">enroll_request</span><span class="o">.</span><span class="n">option</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">jopts</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">callback</span><span class="p">:</span>
        <span class="c1"># self.client.enqueue_request(enroll_request, callback, response.OliveWorkflowEnrollmentResponse())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">enqueue_request</span><span class="p">(</span><span class="n">enroll_request</span><span class="p">,</span> <span class="n">callback</span><span class="p">,</span> <span class="n">response</span><span class="o">.</span><span class="n">OliveWorkflowAnalysisResponse</span><span class="p">())</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">sync_request</span><span class="p">(</span><span class="n">enroll_request</span><span class="p">,</span> <span class="n">response</span><span class="o">.</span><span class="n">OliveWorkflowAnalysisResponse</span><span class="p">())</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="olivepy.api.workflow.OliveWorkflow.get_analysis_class_ids" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">get_analysis_class_ids</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Query OLIVE for the current class IDs (i.e. speaker names for SID, keywords for QbE, etc).  For tasks that support enrollment, their class IDs can change over time.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>callback</code></td>
        <td></td>
        <td><p>an optional callback method that accepts a OliveClassStatusResponse object.  Such as: my_callback(result : response.OliveClassStatusResponse)</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>OliveClassStatusResponse</code></td>
      <td><p>an OliveClassStatusResponse object if no callback specified, otherwise the callback receives the OliveClassStatusResponse object when a response is received from the OLIVE server</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>olivepy/api/workflow.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">get_analysis_class_ids</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="n">WORKFLOW_ANALYSIS_TYPE</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">response</span><span class="o">.</span><span class="n">OliveClassStatusResponse</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Query OLIVE for the current class IDs (i.e. speaker names for SID, keywords for QbE, etc).  For tasks that support enrollment, their class IDs can change over time.</span>

<span class="sd">    :param type the WorkflowOrder type (WORKFLOW_ANALYSIS_TYPE, WORKFLOW_ENROLLMENT_TYPE, or WORKFLOW_UNENROLLMENT_TYPE)</span>
<span class="sd">    :param callback: an optional callback method that accepts a OliveClassStatusResponse object.  Such as: my_callback(result : response.OliveClassStatusResponse)</span>

<span class="sd">    :return: an OliveClassStatusResponse object if no callback specified, otherwise the callback receives the OliveClassStatusResponse object when a response is received from the OLIVE server</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">class_request</span> <span class="o">=</span> <span class="n">WorkflowClassStatusRequest</span><span class="p">()</span>
    <span class="n">class_request</span><span class="o">.</span><span class="n">workflow_definition</span><span class="o">.</span><span class="n">CopyFrom</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">workflow_def</span><span class="p">)</span>
    <span class="k">if</span> <span class="nb">type</span><span class="p">:</span>
        <span class="n">class_request</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="nb">type</span>

    <span class="k">if</span> <span class="n">callback</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">enqueue_request</span><span class="p">(</span><span class="n">class_request</span><span class="p">,</span> <span class="n">callback</span><span class="p">,</span> <span class="n">response</span><span class="o">.</span><span class="n">OliveClassStatusResponse</span><span class="p">())</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">sync_request</span><span class="p">(</span><span class="n">class_request</span><span class="p">,</span> <span class="n">response</span><span class="o">.</span><span class="n">OliveClassStatusResponse</span><span class="p">())</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="olivepy.api.workflow.OliveWorkflow.get_analysis_job_names" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">get_analysis_job_names</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>The names of analysis jobs in this workflow (usually only one analysis job)</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[str]</code></td>
      <td><p>A list of analysis job names in this workflow</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>olivepy/api/workflow.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">get_analysis_job_names</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    The names of analysis jobs in this workflow (usually only one analysis job)</span>

<span class="sd">    :return: A list of analysis job names in this workflow</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">response</span><span class="o">.</span><span class="n">get_workflow_job_names</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">workflow_def</span><span class="p">,</span> <span class="n">WORKFLOW_ANALYSIS_TYPE</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="olivepy.api.workflow.OliveWorkflow.get_analysis_task_info" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">get_analysis_task_info</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>A JSON like report of the tasks used for analysis from the actualized workflow.  When possible, this report         includes the plugins used in the workflow (although there can be cases when the final plugin/domain used is         not known until runtime)</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[Dict[str, Dict]]</code></td>
      <td><p>JSON structured detailed information of analysis tasks used in this workflow</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>olivepy/api/workflow.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">get_analysis_task_info</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">]]:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A JSON like report of the tasks used for analysis from the actualized workflow.  When possible, this report \</span>
<span class="sd">    includes the plugins used in the workflow (although there can be cases when the final plugin/domain used is \</span>
<span class="sd">    not known until runtime)</span>

<span class="sd">    :return: JSON structured detailed information of analysis tasks used in this workflow</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># return [task.consumer_result_label for task in analysis_jobs[job_name]]</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">workflow_response</span><span class="o">.</span><span class="n">to_json</span><span class="p">(</span><span class="n">indent</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="olivepy.api.workflow.OliveWorkflow.get_analysis_tasks" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">get_analysis_tasks</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">job_name</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Return a list of tasks supported by this workflow. These names are unique and can generally be assumed they are named after the task type (SAD, LID, SID, etc) they support but they could use alternate names if there are multiple tasks with the same task type in a workflow (for example a workflow could have a SAD task that does frame scoring and a SAD task that does regions scoring)</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>job_name</code></td>
        <td><code>str</code></td>
        <td><p>filter the returned task names to those belonging to this job name.  Optional since most workflows only support one analysis job.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[str]</code></td>
      <td><p>a list of task names</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>olivepy/api/workflow.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">get_analysis_tasks</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">job_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return a list of tasks supported by this workflow. These names are unique and can generally be assumed they are named after the task type (SAD, LID, SID, etc) they support but they could use alternate names if there are multiple tasks with the same task type in a workflow (for example a workflow could have a SAD task that does frame scoring and a SAD task that does regions scoring)</span>

<span class="sd">    :param job_name: filter the returned task names to those belonging to this job name.  Optional since most workflows only support one analysis job.</span>

<span class="sd">    :return: a list of task names</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">analysis_jobs</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">get_workflow_jobs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">workflow_def</span><span class="p">,</span> <span class="n">WORKFLOW_ANALYSIS_TYPE</span><span class="p">)</span>

    <span class="c1"># better to exception or empty dict????</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">analysis_jobs</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="k">if</span> <span class="n">job_name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">job_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">analysis_jobs</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># get the default job name</span>
        <span class="n">job_name</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">analysis_jobs</span><span class="o">.</span><span class="n">keys</span><span class="p">())[</span><span class="mi">0</span><span class="p">]</span>

    <span class="k">return</span> <span class="p">[</span><span class="n">task</span><span class="o">.</span><span class="n">consumer_result_label</span> <span class="k">for</span> <span class="n">task</span> <span class="ow">in</span> <span class="n">analysis_jobs</span><span class="p">[</span><span class="n">job_name</span><span class="p">]]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="olivepy.api.workflow.OliveWorkflow.get_enrollment_job_names" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">get_enrollment_job_names</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>The names of enrollment jobs in this workflow.  There should be one enrollment job for each analysis tasks that supports class enrollment</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[str]</code></td>
      <td><p>A list of enrollment job names in this workflow</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>olivepy/api/workflow.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">get_enrollment_job_names</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    The names of enrollment jobs in this workflow.  There should be one enrollment job for each analysis tasks that supports class enrollment</span>

<span class="sd">    :return: A list of enrollment job names in this workflow</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">response</span><span class="o">.</span><span class="n">get_workflow_job_names</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">workflow_def</span><span class="p">,</span> <span class="n">WORKFLOW_ENROLLMENT_TYPE</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="olivepy.api.workflow.OliveWorkflow.get_enrollment_tasks" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">get_enrollment_tasks</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">job_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Return a list of tasks that support enrollment in this workflow.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>job_name</code></td>
        <td><code>str</code></td>
        <td><p>optionally the name of the enrollment job.  Optional since most workflows only support one job</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[str]</code></td>
      <td><p>a list of task names</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>olivepy/api/workflow.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">get_enrollment_tasks</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">job_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="n">WORKFLOW_ENROLLMENT_TYPE</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return a list of tasks that support enrollment in this workflow.</span>

<span class="sd">    :param job_name: optionally the name of the enrollment job.  Optional since most workflows only support one job</span>

<span class="sd">    :return: a list of task names</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">enrollment_jobs</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">get_workflow_jobs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">workflow_def</span><span class="p">,</span> <span class="nb">type</span><span class="p">)</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">enrollment_jobs</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="k">if</span> <span class="n">job_name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">job_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">enrollment_jobs</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>

    <span class="c1"># normally (and currently the only supported option) should be just one enrollment_job...</span>
    <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">get_workflow_job_tasks</span><span class="p">(</span><span class="n">enrollment_jobs</span><span class="p">,</span> <span class="n">job_name</span><span class="p">)</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="olivepy.api.workflow.OliveWorkflow.get_unenrollment_job_names" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">get_unenrollment_job_names</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>The names of un-enrollment jobs in this workflow.  There should be one un-enrollment job for each analysis task that supports class un-enrollment</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[str]</code></td>
      <td><p>A list of un-enrollment job names in this workflow</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>olivepy/api/workflow.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">get_unenrollment_job_names</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    The names of un-enrollment jobs in this workflow.  There should be one un-enrollment job for each analysis task that supports class un-enrollment</span>

<span class="sd">    :return: A list of un-enrollment job names in this workflow</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">response</span><span class="o">.</span><span class="n">get_workflow_job_names</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">workflow_def</span><span class="p">,</span> <span class="n">WORKFLOW_UNENROLLMENT_TYPE</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="olivepy.api.workflow.OliveWorkflow.get_unenrollment_tasks" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">get_unenrollment_tasks</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">job_name</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Return a list of tasks that support UNenrollment in this workflow.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>job_name</code></td>
        <td><code>str</code></td>
        <td><p>optionally the name of the enrollment job.  Optional since most workflows only support one job</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[str]</code></td>
      <td><p>a list of task names</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>olivepy/api/workflow.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">get_unenrollment_tasks</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">job_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return a list of tasks that support UNenrollment in this workflow.</span>

<span class="sd">    :param job_name: optionally the name of the enrollment job.  Optional since most workflows only support one job</span>

<span class="sd">    :return: a list of task names</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_enrollment_tasks</span><span class="p">(</span><span class="n">job_name</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="n">WORKFLOW_UNENROLLMENT_TYPE</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="olivepy.api.workflow.OliveWorkflow.package_audio" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">package_audio</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">audio_data</span><span class="p">,</span> <span class="n">mode</span><span class="o">=&lt;</span><span class="n">InputTransferType</span><span class="o">.</span><span class="n">SERIALIZED</span><span class="p">:</span> <span class="mi">3</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">annotations</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">task_annotations</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">selected_channel</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">num_channels</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">sample_rate</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">num_samples</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">validate_local_path</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Creates an Audio object that can be submitted with a Workflow analysis, enrollment, or adapt request.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>audio_data</code></td>
        <td><code>~AnyStr</code></td>
        <td><p>the input data is  a string (file path) if mode is 'AUDIO_PATH', otherwise the input data is a binary buffer.  Use serialize_audio() to serialize a file into a buffer, or pass in a list of PCM_16 encoded samples</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>mode</code></td>
        <td></td>
        <td><p>specifies how the audio is sent to the server: either as (string) file path or as a binary buffer.  NOTE: if sending a path, the path must be valid for the server.</p></td>
        <td><code>&lt;InputTransferType.SERIALIZED: 3&gt;</code></td>
      </tr>
      <tr>
        <td><code>annotations</code></td>
        <td><code>List[Tuple[float, float]]</code></td>
        <td><p>optional regions (start/end regions in seconds) as a list of tuples (start_seconds, end_seconds)</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>task_annotations</code></td>
        <td><code>Dict[str, Dict[str, List[Tuple[float, float]]]]</code></td>
        <td><p>optional and more regions (start/end regions in seconds) targeted for a task and classifed by a lable (such as speech, non-speech, speaker).  For example: {'SHL': {'speaker'':[(0.5, 4.5), (6.8, 9.2)]}, are annotations for the 'SHL' task, which are labeled as class 'speaker' having regions 0.5 to 4.5, and 6.8 to 9.2. Use get_analysis_tasks() to get the name of workflow tasks .</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>selected_channel</code></td>
        <td><code>int</code></td>
        <td><p>optional - the channel to process if using multi-channel audio</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>num_channels</code></td>
        <td><code>int</code></td>
        <td><p>The number of channels if audio input is a list of decoded (PCM-16) samples, if not using a buffer of PCM-16 samples this is value is ignored</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>sample_rate</code></td>
        <td><code>int</code></td>
        <td><p>The sample rate if audio input is a list of  decoded (PCM-16) samples, if not using a buffer of PCM-16 samples this is value is ignored</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>num_samples</code></td>
        <td><code>int</code></td>
        <td><p>The number of samples if audio input is a list of decoded (PCM-16) samples, if not using a buffer of PCM-16 samples this is value is ignored</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>validate_local_path</code></td>
        <td><code>bool</code></td>
        <td><p>If sending audio as as a string path name, then check that the path exists on the local filesystem.  In some cases you may want to pass a path which is valid on the server but not this client so validation is not desired</p></td>
        <td><code>True</code></td>
      </tr>
      <tr>
        <td><code>label</code></td>
        <td></td>
        <td><p>an optional name to use with the audio</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>WorkflowDataRequest</code></td>
      <td><p>A populated WorkflowDataRequest to use in a workflow activity</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>olivepy/api/workflow.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">package_audio</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">audio_data</span><span class="p">:</span> <span class="n">AnyStr</span><span class="p">,</span>
                  <span class="n">mode</span><span class="o">=</span><span class="n">olivepy</span><span class="o">.</span><span class="n">messaging</span><span class="o">.</span><span class="n">msgutil</span><span class="o">.</span><span class="n">InputTransferType</span><span class="o">.</span><span class="n">SERIALIZED</span><span class="p">,</span>
                  <span class="n">annotations</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                  <span class="n">task_annotations</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                  <span class="n">selected_channel</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                  <span class="n">num_channels</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                  <span class="n">sample_rate</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                  <span class="n">num_samples</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                  <span class="n">validate_local_path</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
                  <span class="n">label</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WorkflowDataRequest</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">    Creates an Audio object that can be submitted with a Workflow analysis, enrollment, or adapt request.</span>

<span class="sd">    :param audio_data: the input data is  a string (file path) if mode is &#39;AUDIO_PATH&#39;, otherwise the input data is a binary buffer.  Use serialize_audio() to serialize a file into a buffer, or pass in a list of PCM_16 encoded samples</span>
<span class="sd">    :param mode: specifies how the audio is sent to the server: either as (string) file path or as a binary buffer.  NOTE: if sending a path, the path must be valid for the server.</span>
<span class="sd">    :param annotations: optional regions (start/end regions in seconds) as a list of tuples (start_seconds, end_seconds)</span>
<span class="sd">    :param task_annotations: optional and more regions (start/end regions in seconds) targeted for a task and classifed by a lable (such as speech, non-speech, speaker).  For example: {&#39;SHL&#39;: {&#39;speaker&#39;&#39;:[(0.5, 4.5), (6.8, 9.2)]}, are annotations for the &#39;SHL&#39; task, which are labeled as class &#39;speaker&#39; having regions 0.5 to 4.5, and 6.8 to 9.2. Use get_analysis_tasks() to get the name of workflow tasks .</span>
<span class="sd">    :param selected_channel: optional - the channel to process if using multi-channel audio</span>
<span class="sd">    :param num_channels: The number of channels if audio input is a list of decoded (PCM-16) samples, if not using a buffer of PCM-16 samples this is value is ignored</span>
<span class="sd">    :param sample_rate: The sample rate if audio input is a list of  decoded (PCM-16) samples, if not using a buffer of PCM-16 samples this is value is ignored</span>
<span class="sd">    :param num_samples: The number of samples if audio input is a list of decoded (PCM-16) samples, if not using a buffer of PCM-16 samples this is value is ignored</span>
<span class="sd">    :param validate_local_path: If sending audio as as a string path name, then check that the path exists on the local filesystem.  In some cases you may want to pass a path which is valid on the server but not this client so validation is not desired</span>
<span class="sd">    :param label: an optional name to use with the audio</span>

<span class="sd">    :return: A populated WorkflowDataRequest to use in a workflow activity</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">audio</span> <span class="o">=</span> <span class="n">Audio</span><span class="p">()</span>
    <span class="n">msgutil</span><span class="o">.</span><span class="n">package_audio</span><span class="p">(</span><span class="n">audio</span><span class="p">,</span> <span class="n">audio_data</span><span class="p">,</span> <span class="n">annotations</span><span class="p">,</span> <span class="n">selected_channel</span><span class="p">,</span> <span class="n">mode</span><span class="p">,</span> <span class="n">num_channels</span><span class="p">,</span> <span class="n">sample_rate</span><span class="p">,</span>
                          <span class="n">num_samples</span><span class="p">,</span> <span class="n">validate_local_path</span><span class="p">)</span>

    <span class="c1"># Add any task specific regions:</span>
    <span class="k">if</span> <span class="n">task_annotations</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">task_label</span> <span class="ow">in</span> <span class="n">task_annotations</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="n">ta</span> <span class="o">=</span> <span class="n">audio</span><span class="o">.</span><span class="n">task_annotations</span><span class="o">.</span><span class="n">add</span><span class="p">()</span>
            <span class="n">ta</span><span class="o">.</span><span class="n">task_label</span> <span class="o">=</span> <span class="n">task_label</span>
            <span class="c1"># we only expect to have one set of annotations, so just one region_label</span>
            <span class="k">for</span> <span class="n">region_label</span> <span class="ow">in</span> <span class="n">task_annotations</span><span class="p">[</span><span class="n">task_label</span><span class="p">]:</span>
                <span class="n">ta</span><span class="o">.</span><span class="n">region_label</span> <span class="o">=</span> <span class="n">region_label</span>
                <span class="k">for</span> <span class="n">annots</span> <span class="ow">in</span> <span class="n">task_annotations</span><span class="p">[</span><span class="n">task_label</span><span class="p">][</span><span class="n">region_label</span><span class="p">]:</span>
                    <span class="n">region</span> <span class="o">=</span> <span class="n">ta</span><span class="o">.</span><span class="n">regions</span><span class="o">.</span><span class="n">add</span><span class="p">()</span>
                    <span class="n">region</span><span class="o">.</span><span class="n">start_t</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">float</span><span class="p">(</span><span class="n">annots</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
                    <span class="n">region</span><span class="o">.</span><span class="n">end_t</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">float</span><span class="p">(</span><span class="n">annots</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>

    <span class="n">wkf_data_request</span> <span class="o">=</span> <span class="n">WorkflowDataRequest</span><span class="p">()</span>
    <span class="c1">#fixme: this should be set based on the audio.label (filename) or given a unique name here...</span>
    <span class="n">wkf_data_request</span><span class="o">.</span><span class="n">data_id</span> <span class="o">=</span> <span class="n">label</span> <span class="k">if</span> <span class="n">label</span> <span class="k">else</span> <span class="n">msgutil</span><span class="o">.</span><span class="n">get_uuid</span><span class="p">()</span>
    <span class="n">wkf_data_request</span><span class="o">.</span><span class="n">data_type</span> <span class="o">=</span> <span class="n">AUDIO</span>
    <span class="n">wkf_data_request</span><span class="o">.</span><span class="n">workflow_data</span> <span class="o">=</span> <span class="n">audio</span><span class="o">.</span><span class="n">SerializeToString</span><span class="p">()</span>
    <span class="c1"># consumer_data_label doesn&#39;t need to be set... use default</span>
    <span class="c1"># set job name?  Currently we assume one job per workflow so punting on this for now</span>

    <span class="k">return</span> <span class="n">wkf_data_request</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="olivepy.api.workflow.OliveWorkflow.package_binary" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">package_binary</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">binary_input</span><span class="p">,</span> <span class="n">mode</span><span class="o">=&lt;</span><span class="n">InputTransferType</span><span class="o">.</span><span class="n">SERIALIZED</span><span class="p">:</span> <span class="mi">3</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">annotations</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">validate_local_path</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>video_input</code></td>
        <td></td>
        <td><p>a video input</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>WorkflowDataRequest</code></td>
      <td><p>TBD</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>olivepy/api/workflow.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">package_binary</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                   <span class="n">binary_input</span><span class="p">,</span>
                   <span class="n">mode</span><span class="o">=</span><span class="n">olivepy</span><span class="o">.</span><span class="n">messaging</span><span class="o">.</span><span class="n">msgutil</span><span class="o">.</span><span class="n">InputTransferType</span><span class="o">.</span><span class="n">SERIALIZED</span><span class="p">,</span>
                   <span class="n">annotations</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                   <span class="n">validate_local_path</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
                   <span class="n">label</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WorkflowDataRequest</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    :param video_input: a video input</span>

<span class="sd">    :return: TBD</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">media</span> <span class="o">=</span> <span class="n">BinaryMedia</span><span class="p">()</span>
    <span class="n">msgutil</span><span class="o">.</span><span class="n">package_binary_media</span><span class="p">(</span><span class="n">media</span><span class="p">,</span> <span class="n">binary_input</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="n">mode</span><span class="p">,</span> <span class="n">validate_local_path</span><span class="o">=</span><span class="n">validate_local_path</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">label</span><span class="p">:</span>
        <span class="n">media</span><span class="o">.</span><span class="n">label</span> <span class="o">=</span> <span class="n">label</span>



    <span class="n">wkf_data_request</span> <span class="o">=</span> <span class="n">WorkflowDataRequest</span><span class="p">()</span>
    <span class="n">wkf_data_request</span><span class="o">.</span><span class="n">data_id</span> <span class="o">=</span> <span class="n">label</span> <span class="k">if</span> <span class="n">label</span> <span class="k">else</span> <span class="n">msgutil</span><span class="o">.</span><span class="n">get_uuid</span><span class="p">()</span>
    <span class="n">wkf_data_request</span><span class="o">.</span><span class="n">data_type</span> <span class="o">=</span> <span class="n">VIDEO</span>
    <span class="n">wkf_data_request</span><span class="o">.</span><span class="n">workflow_data</span> <span class="o">=</span> <span class="n">media</span><span class="o">.</span><span class="n">SerializeToString</span><span class="p">()</span>

    <span class="k">return</span> <span class="n">wkf_data_request</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="olivepy.api.workflow.OliveWorkflow.package_image" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">package_image</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">image_input</span><span class="p">,</span> <span class="n">mode</span><span class="o">=&lt;</span><span class="n">InputTransferType</span><span class="o">.</span><span class="n">SERIALIZED</span><span class="p">:</span> <span class="mi">3</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">validate_local_path</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Not yet supported</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>image_input</code></td>
        <td></td>
        <td><p>An image input</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>WorkflowDataRequest</code></td>
      <td><p>TBD</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>olivepy/api/workflow.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">package_image</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">image_input</span><span class="p">,</span>
                  <span class="n">mode</span><span class="o">=</span><span class="n">olivepy</span><span class="o">.</span><span class="n">messaging</span><span class="o">.</span><span class="n">msgutil</span><span class="o">.</span><span class="n">InputTransferType</span><span class="o">.</span><span class="n">SERIALIZED</span><span class="p">,</span>
                  <span class="n">validate_local_path</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
                  <span class="n">label</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span><span class="o">-&gt;</span> <span class="n">WorkflowDataRequest</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Not yet supported</span>

<span class="sd">    :param image_input: An image input</span>

<span class="sd">    :return: TBD</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">media</span> <span class="o">=</span> <span class="n">BinaryMedia</span><span class="p">()</span>
    <span class="n">msgutil</span><span class="o">.</span><span class="n">package_binary_media</span><span class="p">(</span><span class="n">media</span><span class="p">,</span> <span class="n">image_input</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="n">mode</span><span class="p">,</span> <span class="n">validate_local_path</span><span class="o">=</span><span class="n">validate_local_path</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">label</span><span class="p">:</span>
        <span class="n">media</span><span class="o">.</span><span class="n">label</span> <span class="o">=</span> <span class="n">label</span>
    <span class="n">media</span><span class="o">.</span><span class="n">motion</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="c1"># todo if annotations...</span>

    <span class="n">wkf_data_request</span> <span class="o">=</span> <span class="n">WorkflowDataRequest</span><span class="p">()</span>
    <span class="n">wkf_data_request</span><span class="o">.</span><span class="n">data_id</span> <span class="o">=</span> <span class="n">label</span> <span class="k">if</span> <span class="n">label</span> <span class="k">else</span> <span class="n">msgutil</span><span class="o">.</span><span class="n">get_uuid</span><span class="p">()</span>
    <span class="n">wkf_data_request</span><span class="o">.</span><span class="n">data_type</span> <span class="o">=</span> <span class="n">IMAGE</span>
    <span class="n">wkf_data_request</span><span class="o">.</span><span class="n">workflow_data</span> <span class="o">=</span> <span class="n">media</span><span class="o">.</span><span class="n">SerializeToString</span><span class="p">()</span>

    <span class="k">return</span> <span class="n">wkf_data_request</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="olivepy.api.workflow.OliveWorkflow.package_text" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">package_text</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text_input</span><span class="p">,</span> <span class="n">optional_label</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">text_workflow_key</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Used to package data for a workflow that accepts string (text) input</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>text_input</code></td>
        <td><code>str</code></td>
        <td><p>a text input</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>optional_label</code></td>
        <td><code>str</code></td>
        <td><p>an optional label, namoe or comment associated with this input</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>text_workflow_key</code></td>
        <td><code>str</code></td>
        <td><p>the keyword used to identify this data in the workflow.  By default a value of 'text' is assumed and recommend</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>WorkflowDataRequest</code></td>
      <td><p>a WorkflowDataRequest populated with the text input</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>olivepy/api/workflow.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">package_text</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text_input</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">optional_label</span><span class="p">:</span><span class="nb">str</span> <span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">text_workflow_key</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WorkflowDataRequest</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Used to package data for a workflow that accepts string (text) input</span>

<span class="sd">    :param text_input: a text input</span>
<span class="sd">    :param optional_label: an optional label, namoe or comment associated with this input</span>
<span class="sd">    :param text_workflow_key: the keyword used to identify this data in the workflow.  By default a value of &#39;text&#39; is assumed and recommend</span>

<span class="sd">    :return: a WorkflowDataRequest populated with the text input</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">text_msg</span> <span class="o">=</span> <span class="n">Text</span><span class="p">()</span>
    <span class="c1"># not (yet?) supported multiple text inputs in a request</span>
    <span class="n">text_msg</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">text_input</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">optional_label</span><span class="p">:</span>
        <span class="n">text_msg</span><span class="o">.</span><span class="n">label</span> <span class="o">=</span> <span class="n">optional_label</span>

    <span class="n">wkf_data_request</span> <span class="o">=</span> <span class="n">WorkflowDataRequest</span><span class="p">()</span>
    <span class="n">wkf_data_request</span><span class="o">.</span><span class="n">data_id</span> <span class="o">=</span> <span class="n">text_workflow_key</span> <span class="k">if</span> <span class="n">text_workflow_key</span> <span class="k">else</span> <span class="s1">&#39;text&#39;</span>
    <span class="n">wkf_data_request</span><span class="o">.</span><span class="n">data_type</span> <span class="o">=</span> <span class="n">TEXT</span>
    <span class="n">wkf_data_request</span><span class="o">.</span><span class="n">workflow_data</span> <span class="o">=</span> <span class="n">text_msg</span><span class="o">.</span><span class="n">SerializeToString</span><span class="p">()</span>

    <span class="k">return</span> <span class="n">wkf_data_request</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="olivepy.api.workflow.OliveWorkflow.package_workflow_input" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">package_workflow_input</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">input_msg</span><span class="p">,</span> <span class="n">expected_data_type</span><span class="o">=&lt;</span><span class="n">OliveInputDataType</span><span class="o">.</span><span class="n">AUDIO_DATA_TYPE</span><span class="p">:</span> <span class="mi">2</span><span class="o">&gt;</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>input_msg</code></td>
        <td></td>
        <td><p>the OLIVE data message to package</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>expected_data_type</code></td>
        <td></td>
        <td><p>the data type of the message (Binary</p></td>
        <td><code>&lt;OliveInputDataType.AUDIO_DATA_TYPE: 2&gt;</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>WorkflowDataRequest</code></td>
      <td><p>TBD</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>olivepy/api/workflow.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">package_workflow_input</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">input_msg</span><span class="p">,</span>
                   <span class="n">expected_data_type</span> <span class="o">=</span> <span class="n">msgutil</span><span class="o">.</span><span class="n">OliveInputDataType</span><span class="o">.</span><span class="n">AUDIO_DATA_TYPE</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WorkflowDataRequest</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    :param input_msg: the OLIVE data message to package</span>
<span class="sd">    :param expected_data_type: the data type of the message (Binary</span>
<span class="sd">    :return: TBD</span>
<span class="sd">    &quot;&quot;&quot;</span>


    <span class="n">wkf_data_request</span> <span class="o">=</span> <span class="n">WorkflowDataRequest</span><span class="p">()</span>
    <span class="n">wkf_data_request</span><span class="o">.</span><span class="n">data_id</span> <span class="o">=</span> <span class="n">input_msg</span><span class="o">.</span><span class="n">label</span> <span class="k">if</span> <span class="n">input_msg</span><span class="o">.</span><span class="n">label</span> <span class="k">else</span> <span class="n">msgutil</span><span class="o">.</span><span class="n">get_uuid</span><span class="p">()</span>
    <span class="n">wkf_data_request</span><span class="o">.</span><span class="n">data_type</span> <span class="o">=</span> <span class="n">msgutil</span><span class="o">.</span><span class="n">data_type_class_map</span><span class="p">[</span><span class="n">expected_data_type</span><span class="p">]</span>
    <span class="n">wkf_data_request</span><span class="o">.</span><span class="n">workflow_data</span> <span class="o">=</span> <span class="n">input_msg</span><span class="o">.</span><span class="n">SerializeToString</span><span class="p">()</span>

    <span class="k">return</span> <span class="n">wkf_data_request</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="olivepy.api.workflow.OliveWorkflow.serialize_audio" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">serialize_audio</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Helper function used to read in an audio file and output a serialized buffer.  Can be used with package_audio()         when using the AUDIO_SERIALIZED mode and the audio input has not already been serialized</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>filename</code></td>
        <td><code>str</code></td>
        <td><p>the local path to the file to serialize</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>~AnyStr</code></td>
      <td><p>the contents of the file as a byte buffer, otherwise an exception if the file can not be opened.  This buffer contains the raw content of the file, it does NOT contain encoded samples</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>olivepy/api/workflow.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">serialize_audio</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AnyStr</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Helper function used to read in an audio file and output a serialized buffer.  Can be used with package_audio() \</span>
<span class="sd">    when using the AUDIO_SERIALIZED mode and the audio input has not already been serialized</span>

<span class="sd">    :param filename: the local path to the file to serialize</span>

<span class="sd">    :return: the contents of the file as a byte buffer, otherwise an exception if the file can not be opened.  This buffer contains the raw content of the file, it does NOT contain encoded samples</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="n">filename</span><span class="p">),</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">serialized_buffer</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

    <span class="c1"># return the buffer</span>
    <span class="k">return</span> <span class="n">serialized_buffer</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="olivepy.api.workflow.OliveWorkflow.to_json" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">to_json</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Generate the workflow as a JSON string</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>indent</code></td>
        <td></td>
        <td><p>if a non-negative integer, then JSON array elements and object members will be pretty-printed with            that indent level. An indent level of 0 will only insert newlines. <code>None</code> is the most compact             representation. A negative value will return the JSON document</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td></td>
      <td><p>the Workflow Definition as as JSON string:</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>olivepy/api/workflow.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">to_json</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">       Generate the workflow as a JSON string</span>
<span class="sd">       :param indent:  if a non-negative integer, then JSON array elements and object members will be pretty-printed with \</span>
<span class="sd">       that indent level. An indent level of 0 will only insert newlines. ``None`` is the most compact  \</span>
<span class="sd">       representation. A negative value will return the JSON document</span>

<span class="sd">       :return: the Workflow Definition as as JSON string:</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">workflow_response</span><span class="o">.</span><span class="n">to_json</span><span class="p">(</span><span class="n">indent</span><span class="o">=</span><span class="n">indent</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="olivepy.api.workflow.OliveWorkflow.unenroll" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">unenroll</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">class_id</span><span class="p">,</span> <span class="n">job_names</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Submit a class id (speaker name, language name, etc) for un-enrollment.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>class_id</code></td>
        <td><code>str</code></td>
        <td><p>the name of the enrollment class to remove</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>job_names</code></td>
        <td><code>List[str]</code></td>
        <td><p>a list of job names, where the class is to be unenrolled.  Jobs must support class modification .  This value can be None, in which case the data input(s) is unenrolled for each job (which is likely dangerous).</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>callback</code></td>
        <td></td>
        <td><p>an optional callback that is invoked when this workflow action completes.  If not specified this method blocks, returning an OliveWorkflowAnalysisResponse when the enrollment completes on the server.  Otherwise this method immediately returns and the callback method is invoked when the response is received.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>options</code></td>
        <td></td>
        <td><p>a dictionary of name/value option pairs to include with the enrollment request</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td></td>
      <td><p>server unenrollment response if no callback provided</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>olivepy/api/workflow.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">unenroll</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">class_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">job_names</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">callback</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Submit a class id (speaker name, language name, etc) for un-enrollment.</span>

<span class="sd">    :param class_id:  the name of the enrollment class to remove</span>
<span class="sd">    :param job_names: a list of job names, where the class is to be unenrolled.  Jobs must support class modification .  This value can be None, in which case the data input(s) is unenrolled for each job (which is likely dangerous).</span>
<span class="sd">    :param callback: an optional callback that is invoked when this workflow action completes.  If not specified this method blocks, returning an OliveWorkflowAnalysisResponse when the enrollment completes on the server.  Otherwise this method immediately returns and the callback method is invoked when the response is received.</span>
<span class="sd">    :param options: a dictionary of name/value option pairs to include with the enrollment request</span>

<span class="sd">    :return: server unenrollment response if no callback provided</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># make call blocking if no callback or always assume it is async?</span>
    <span class="n">unenroll_request</span> <span class="o">=</span> <span class="n">WorkflowUnenrollRequest</span><span class="p">()</span>
    <span class="n">unenroll_request</span><span class="o">.</span><span class="n">workflow_definition</span><span class="o">.</span><span class="n">CopyFrom</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">workflow_def</span><span class="p">)</span>
    <span class="n">unenroll_request</span><span class="o">.</span><span class="n">class_id</span> <span class="o">=</span> <span class="n">class_id</span>

    <span class="k">for</span> <span class="n">job_task</span> <span class="ow">in</span> <span class="n">job_names</span><span class="p">:</span>
        <span class="n">unenroll_request</span><span class="o">.</span><span class="n">job_names</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">job_task</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">options</span><span class="p">:</span>
        <span class="n">jopts</span> <span class="o">=</span> <span class="n">utils</span><span class="o">.</span><span class="n">parse_json_options</span><span class="p">(</span><span class="n">options</span><span class="p">)</span>
        <span class="n">unenroll_request</span><span class="o">.</span><span class="n">option</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">jopts</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">callback</span><span class="p">:</span>
        <span class="c1"># self.client.enqueue_request(enroll_request, callback, response.OliveWorkflowEnrollmentResponse())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">enqueue_request</span><span class="p">(</span><span class="n">unenroll_request</span><span class="p">,</span> <span class="n">callback</span><span class="p">,</span> <span class="n">response</span><span class="o">.</span><span class="n">OliveWorkflowAnalysisResponse</span><span class="p">())</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">sync_request</span><span class="p">(</span><span class="n">unenroll_request</span><span class="p">,</span> <span class="n">response</span><span class="o">.</span><span class="n">OliveWorkflowAnalysisResponse</span><span class="p">())</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h2 id="olivepy.api.workflow.OliveWorkflowDefinition" class="doc doc-heading">
        <code>
OliveWorkflowDefinition        </code>



</h2>

    <div class="doc doc-contents ">

      <p>Used to load a Workflow Definition from a file.</p>




  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h3 id="olivepy.api.workflow.OliveWorkflowDefinition.__init__" class="doc doc-heading">
<code class="codehilite language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>Create an OliveWorkflowDefinition to access a workflow definition file</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>filename</code></td>
        <td><code>str</code></td>
        <td><p>the path/filename of a workflow definition file to load</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>olivepy/api/workflow.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create an OliveWorkflowDefinition to access a workflow definition file</span>

<span class="sd">    :param filename: the path/filename of a workflow definition file to load</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># First, make sure the workflow definition (WD) file exists</span>
    <span class="n">filename</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">filename</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">IOError</span><span class="p">(</span><span class="s2">&quot;Workflow definition file &#39;</span><span class="si">{}</span><span class="s2">&#39; does not exists&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">filename</span><span class="p">))</span>

    <span class="c1"># Load the WD, then submit to the server</span>

    <span class="c1"># Read the workflow - either a workflow or a text file</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">wd</span> <span class="o">=</span> <span class="n">WorkflowDefinition</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">wd</span><span class="o">.</span><span class="n">ParseFromString</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
    <span class="k">except</span> <span class="ne">IOError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">IOError</span><span class="p">(</span><span class="s2">&quot;Workflow definition file &#39;</span><span class="si">{}</span><span class="s2">&#39; does not exist&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">filename</span><span class="p">))</span>
    <span class="k">except</span> <span class="n">DecodeError</span> <span class="k">as</span> <span class="n">de</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wd</span> <span class="o">=</span> <span class="n">WorkflowDefinition</span><span class="p">()</span>
        <span class="c1"># Try parsing as text file (will fail for a protobuf file)</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="c1"># First load as json</span>
            <span class="n">json_input</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
            <span class="c1"># Next, we need to convert message data in task(s) to byte strings</span>
            <span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="n">json_input</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">element</span> <span class="o">==</span> <span class="s1">&#39;order&#39;</span><span class="p">:</span>
                    <span class="k">for</span> <span class="n">job</span> <span class="ow">in</span> <span class="n">json_input</span><span class="p">[</span><span class="n">element</span><span class="p">]:</span>
                        <span class="c1"># print(&quot;Job: {}&quot;.format(job))</span>
                        <span class="k">for</span> <span class="n">job_def</span> <span class="ow">in</span> <span class="n">job</span><span class="p">[</span><span class="s1">&#39;job_definition&#39;</span><span class="p">]:</span>
                            <span class="k">for</span> <span class="n">task</span> <span class="ow">in</span> <span class="n">job_def</span><span class="p">[</span><span class="s1">&#39;tasks&#39;</span><span class="p">]:</span>
                                <span class="n">task_type</span> <span class="o">=</span> <span class="n">task</span><span class="p">[</span><span class="s1">&#39;message_type&#39;</span><span class="p">]</span>
                                <span class="c1"># Covert &#39;messageData&#39; into a protobuf and save the byte string in the json</span>
                                <span class="c1"># so it can be correctly deserialized</span>
                                <span class="n">tmp_json</span> <span class="o">=</span> <span class="n">task</span><span class="p">[</span><span class="s1">&#39;message_data&#39;</span><span class="p">]</span>
                                <span class="n">msg</span> <span class="o">=</span> <span class="n">msgutil</span><span class="o">.</span><span class="n">type_class_map</span><span class="p">[</span><span class="n">MessageType</span><span class="o">.</span><span class="n">Value</span><span class="p">(</span><span class="n">task_type</span><span class="p">)]()</span>
                                <span class="n">Parse</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">tmp_json</span><span class="p">),</span> <span class="n">msg</span><span class="p">)</span>
                                <span class="c1"># now serialized msg as messageData</span>
                                <span class="n">data</span> <span class="o">=</span> <span class="n">base64</span><span class="o">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">msg</span><span class="o">.</span><span class="n">SerializeToString</span><span class="p">())</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span>
                                <span class="n">task</span><span class="p">[</span><span class="s1">&#39;message_data&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span>

        <span class="c1"># Now we should be able to create a WorkflowDefinition from the json data</span>
        <span class="n">Parse</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">json_input</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">wd</span><span class="p">)</span>

    <span class="c1"># Create JSON formatted output from the the Workflow?</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="olivepy.api.workflow.OliveWorkflowDefinition.create_workflow" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">create_workflow</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">client</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Create a new, executable (actualized), Workflow, which can be used to make OLIVE analysis, or enrollment requests</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>client</code></td>
        <td><code>AsyncOliveClient</code></td>
        <td><p>an open client connection to an OLIVE server</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td></td>
      <td><p>a new OliveWorkflow object, which  has been actualized (activated) by the olive server</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>olivepy/api/workflow.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">create_workflow</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">client</span><span class="p">:</span> <span class="n">olivepy</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">olive_async_client</span><span class="o">.</span><span class="n">AsyncOliveClient</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create a new, executable (actualized), Workflow, which can be used to make OLIVE analysis, or enrollment requests</span>

<span class="sd">    :param client: an open client connection to an OLIVE server</span>

<span class="sd">    :return: a new OliveWorkflow object, which  has been actualized (activated) by the olive server</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">client</span><span class="o">.</span><span class="n">is_connected</span><span class="p">():</span>
        <span class="k">raise</span> <span class="ne">IOError</span><span class="p">(</span><span class="s2">&quot;No connection to the Olive server&quot;</span><span class="p">)</span>

    <span class="c1"># Create a workflow request</span>
    <span class="n">request</span> <span class="o">=</span> <span class="n">WorkflowActualizeRequest</span><span class="p">()</span>
    <span class="n">request</span><span class="o">.</span><span class="n">workflow_definition</span><span class="o">.</span><span class="n">CopyFrom</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">wd</span><span class="p">)</span>

    <span class="n">workflow_result</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">sync_request</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">response</span><span class="o">.</span><span class="n">OliveWorkflowActualizedResponse</span><span class="p">())</span>
    <span class="k">if</span> <span class="n">workflow_result</span><span class="o">.</span><span class="n">is_error</span><span class="p">():</span>
        <span class="k">raise</span> <span class="n">msgutil</span><span class="o">.</span><span class="n">ExceptionFromServer</span><span class="p">(</span><span class="n">workflow_result</span><span class="o">.</span><span class="n">get_error</span><span class="p">())</span>
    <span class="c1"># if msg:</span>
    <span class="c1">#     raise msgutil.ExceptionFromServer(msg)</span>

    <span class="k">return</span> <span class="n">OliveWorkflow</span><span class="p">(</span><span class="n">client</span><span class="p">,</span> <span class="n">workflow_result</span><span class="p">)</span>

    <span class="c1"># todo send WD to server, return an OliveWorklow to the user</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="olivepy.api.workflow.OliveWorkflowDefinition.get_json" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">get_json</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Create a JSON structure of the Workflow</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>indent</code></td>
        <td></td>
        <td><p>if a non-negative integer, then JSON array elements and object members will be pretty-printed with that indent level. An indent level of 0 will only insert newlines. None is the most compact representation. A negative value will return the JSON document</p></td>
        <td><code>1</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td></td>
      <td><p>A JSON (dictionary) representation of the Workflow Definition</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>olivepy/api/workflow.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">get_json</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create a JSON structure of the Workflow</span>

<span class="sd">    :param indent:  if a non-negative integer, then JSON array elements and object members will be pretty-printed with that indent level. An indent level of 0 will only insert newlines. None is the most compact representation. A negative value will return the JSON document</span>

<span class="sd">    :return: A JSON (dictionary) representation of the Workflow Definition</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">analysis_task</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">job_names</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>

    <span class="n">workflow_analysis_order_msg</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">for</span> <span class="n">order</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">wd</span><span class="o">.</span><span class="n">order</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">order</span><span class="o">.</span><span class="n">workflow_type</span> <span class="o">==</span> <span class="n">WORKFLOW_ANALYSIS_TYPE</span><span class="p">:</span>
            <span class="n">workflow_analysis_order_msg</span> <span class="o">=</span> <span class="n">order</span>
            <span class="k">break</span>

    <span class="k">if</span> <span class="n">workflow_analysis_order_msg</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># no analysis results</span>
        <span class="k">return</span> <span class="n">analysis_task</span>

    <span class="c1"># for job in self._response.job_result:</span>
    <span class="k">for</span> <span class="n">job</span> <span class="ow">in</span> <span class="n">workflow_analysis_order_msg</span><span class="o">.</span><span class="n">job_definition</span><span class="p">:</span>
        <span class="c1"># create a dictionary for each job result</span>
        <span class="n">job_dict</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
        <span class="n">job_name</span> <span class="o">=</span> <span class="n">job</span><span class="o">.</span><span class="n">job_name</span>
        <span class="n">job_names</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">job_name</span><span class="p">)</span>

        <span class="c1"># get data handling info for this job</span>
        <span class="n">data_prop</span> <span class="o">=</span> <span class="n">job</span><span class="o">.</span><span class="n">data_properties</span>
        <span class="n">job_dict</span><span class="p">[</span><span class="s1">&#39;Data Input&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">MessageToJson</span><span class="p">(</span><span class="n">data_prop</span><span class="p">,</span> <span class="n">preserving_proto_field_name</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
        <span class="c1"># if data_prop.mode == SPLIT:</span>
        <span class="c1">#     # Hack to make split/mulit-channel mode more clear</span>
        <span class="c1">#     job_dict[&#39;data&#39;][&#39;mode&#39;] = &#39;SPLIT: Process each channel as a job&#39;</span>

        <span class="c1"># and a dictionary of tasks:</span>
        <span class="c1"># add to our results - in most cases we will have just one job</span>
        <span class="n">analysis_task</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">job_dict</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">task</span> <span class="ow">in</span> <span class="n">job</span><span class="o">.</span><span class="n">tasks</span><span class="p">:</span>
            <span class="n">task_result_dict</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">MessageToJson</span><span class="p">(</span><span class="n">task</span><span class="p">,</span> <span class="n">preserving_proto_field_name</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>

            <span class="c1"># Deserialize message_data, and replace it in the task_result_dict</span>
            <span class="n">task_type_msg</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_extract_serialized_message</span><span class="p">(</span><span class="n">task</span><span class="o">.</span><span class="n">message_type</span><span class="p">,</span> <span class="n">task</span><span class="o">.</span><span class="n">message_data</span><span class="p">)</span>
            <span class="n">task_result_dict</span><span class="p">[</span><span class="s1">&#39;job_name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">job_name</span>
            <span class="n">task_result_dict</span><span class="p">[</span><span class="s1">&#39;analysis&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span>
                <span class="n">MessageToJson</span><span class="p">(</span><span class="n">task_type_msg</span><span class="p">,</span> <span class="n">preserving_proto_field_name</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
            <span class="k">del</span> <span class="n">task_result_dict</span><span class="p">[</span><span class="s1">&#39;message_data&#39;</span><span class="p">]</span>

            <span class="n">job_dict</span><span class="p">[</span><span class="n">task</span><span class="o">.</span><span class="n">consumer_result_label</span><span class="p">]</span> <span class="o">=</span> <span class="n">task_result_dict</span>

    <span class="k">return</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">analysis_task</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="n">indent</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="olivepy.api.workflow.OliveWorkflowDefinition.to_json" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">to_json</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Generate the workflow as a JSON string</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>indent</code></td>
        <td></td>
        <td><p>if a non-negative integer, then JSON array elements and object members will be pretty-printed with         that indent level. An indent level of 0 will only insert newlines. <code>None</code> is the most compact          representation. A negative value will return the JSON document</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td></td>
      <td><p>the Workflow Definition as as JSON string:</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>olivepy/api/workflow.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">to_json</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Generate the workflow as a JSON string</span>

<span class="sd">    :param indent:  if a non-negative integer, then JSON array elements and object members will be pretty-printed with \</span>
<span class="sd">    that indent level. An indent level of 0 will only insert newlines. ``None`` is the most compact  \</span>
<span class="sd">    representation. A negative value will return the JSON document</span>

<span class="sd">    :return: the Workflow Definition as as JSON string:</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">json_str_output</span> <span class="o">=</span> <span class="n">MessageToJson</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">wd</span><span class="p">,</span> <span class="n">preserving_proto_field_name</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="n">json_output</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">json_str_output</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="n">json_output</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">element</span> <span class="o">==</span> <span class="s1">&#39;order&#39;</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">job</span> <span class="ow">in</span> <span class="n">json_output</span><span class="p">[</span><span class="n">element</span><span class="p">]:</span>
                <span class="c1"># print(&quot;Job: {}&quot;.format(job))</span>
                <span class="k">for</span> <span class="n">job_def</span> <span class="ow">in</span> <span class="n">job</span><span class="p">[</span><span class="s1">&#39;job_definition&#39;</span><span class="p">]:</span>
                    <span class="k">for</span> <span class="n">task</span> <span class="ow">in</span> <span class="n">job_def</span><span class="p">[</span><span class="s1">&#39;tasks&#39;</span><span class="p">]:</span>
                        <span class="n">task_type</span> <span class="o">=</span> <span class="n">task</span><span class="p">[</span><span class="s1">&#39;message_type&#39;</span><span class="p">]</span>
                        <span class="n">data</span> <span class="o">=</span> <span class="n">base64</span><span class="o">.</span><span class="n">b64decode</span><span class="p">(</span><span class="n">task</span><span class="p">[</span><span class="s1">&#39;message_data&#39;</span><span class="p">])</span>
                        <span class="n">msg</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_extract_serialized_message</span><span class="p">(</span><span class="n">MessageType</span><span class="o">.</span><span class="n">Value</span><span class="p">(</span><span class="n">task_type</span><span class="p">),</span> <span class="n">data</span><span class="p">)</span>
                        <span class="n">task</span><span class="p">[</span><span class="s1">&#39;message_data&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">MessageToJson</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="n">preserving_proto_field_name</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
                        <span class="c1"># print(&quot;Task: {}&quot;.format(task))</span>

    <span class="k">if</span> <span class="n">indent</span> <span class="ow">and</span> <span class="n">indent</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">json_output</span>
    <span class="k">return</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">json_output</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="n">indent</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h2 id="olivepy.api.workflow.WorkflowException" class="doc doc-heading">
        <code>
WorkflowException            (<span title="Exception">Exception</span>)
        </code>



</h2>

    <div class="doc doc-contents ">

      <p>This exception means that an error occurred handling a Workflow</p>



    </div>

  </div>







  </div>

    </div>

  </div>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/vendor.08c56446.min.js"></script>
      <script src="../assets/javascripts/bundle.6ced434e.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script>
      

<script src="../assets/javascript/iframe-worker.js"></script>
<script src="../search/search_index.js"></script>


      <script>
        app = initialize({
          base: "..",
          features: [],
          search: Object.assign({
            worker: "../assets/javascripts/worker/search.8c7e0a7e.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="../search/search_index.js"></script>
      
        <script src="../assets/js/swagger-ui-bundle.js"></script>
      
    
  </body>
</html>